!function(){"use strict";angular.module("simon",["ngAnimate","ngRoute","CommonModule","ProjectsModule","ApplicationsModule"])}(),function(){"use strict";function e(e){e.otherwise({redirectTo:"/"})}angular.module("simon").config(e),e.$inject=["$routeProvider"]}(),function(){function e(e){e.when("/About",{templateUrl:"Modules/00_Common/03_Templates/About.html",controller:"AboutController",controllerAs:"vm"}).when("/Settings",{templateUrl:"Modules/00_Common/03_Templates/Settings.html",controller:"SettingsController",controllerAs:"vm"})}angular.module("CommonModule",["ngRoute"]).config(e),e.$inject=["$routeProvider"]}();var projectsModule=angular.module("ProjectsModule",["ngRoute","CommonModule"]);projectsModule.config(["$routeProvider",function(e){e.when("/",{templateUrl:"Modules/01_Projects/03_Templates/Projects.html",controller:"ProjectsController"}).when("/new-project",{templateUrl:"Modules/01_Projects/03_Templates/NewProject.html",controller:"NewProjectController"}).when("/:ProjectId",{templateUrl:"Modules/01_Projects/03_Templates/ProjectDetails.html",controller:"ProjectDetailsController"}).when("/:ProjectId/edit",{templateUrl:"Modules/01_Projects/03_Templates/EditProject.html",controller:"EditProjectController"})}]);var applicationsModule=angular.module("ApplicationsModule",["ngRoute","CommonModule","ProjectsModule"]);applicationsModule.config(["$routeProvider",function(){}]),function(){function e(){function e(e,t,o){(o.ngClick||""===o.href||"#"===o.href)&&t.on("click",function(e){e.preventDefault()})}return{restrict:"E",link:e}}angular.module("CommonModule").directive("a",e)}();var PageHeadServices=function(e){this.Tile="",this.Date=e};!function(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" @ "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),o=new PageHeadServices(t);commonModule.value("PageHeadServices",o)}();var NavbarServices=function(e){var t=this;this.AboutMenu=new NavbarMenu("/About"),this.SettingsMenu=new NavbarMenu("/Settings"),this.Tools=e,this.DeactivateAll=function(){t.AboutMenu.Class="",t.SettingsMenu.Class=""},this.UpdateTools=function(e){e.get("/api/PluginPaths").success(function(e){t.Tools=angular.fromJson(e)})}},NavbarMenu=function(e){var t=this;this.IsActive=!1,this.Class="",this.Path=e,this.SetAsActive=function(){t.IsActive=!0,t.Class="active"}};!function(){var e=new NavbarServices;commonModule.value("NavbarServices",e)}();var BreadcrumbItem=function(e,t,o){var r=this;this.Location=e.path(),this.Text=t,this.Next=o,this.Class="",this.SetNextWith=function(e,t){r.Next?e?(r.Next.Class="",r.Next.SetNextWith(e,t)):r.Next.Next||(r.Class="active",r.Next=o):(r.Next=new BreadcrumbItem(e,t),r.Next.Class="active")},this.AddTo=function(e){e.push(r),r.Next&&r.Next.AddTo(e)},this.IsLast=function(){return!r.Next},this.RemoveLast=function(){this.Next&&(r.Next.IsLast()?(r.Class="active",r.Next=o):r.Next.RemoveLast())}},BreadcrumbServices=function(e){var t=this;this.RootItem=e,this.IsVisible=!1,this.Reset=function(){t.RootItem=e,t.IsVisible=!1},this.GetItems=function(){var e=new Array;return t.RootItem&&t.RootItem.AddTo(e),e},this.AddNew=function(e,o){t.IsVisible=!0,this.RootItem?(t.RootItem.Class="",t.RootItem.SetNextWith(e,o)):(t.RootItem=new BreadcrumbItem(e,o),t.RootItem.Class="active")},this.RemoveLast=function(){this.RootItem&&(t.RootItem.IsLast()?t.Reset():t.RootItem.RemoveLast())}};!function(){var e=new BreadcrumbServices;commonModule.value("BreadcrumbServices",e)}();var SettingsServices=function(e,t,o,r){var s=this;this.Settings=[],this.Error=r,this.GetSettings=function(){return e.get("/api/settings").success(function(e){s.Settings=angular.fromJson(e)}).error(function(e){s.Error=e})},this.UpdateSettings=function(){return e.post("/api/settings",this.Settings).success(function(){o.UpdateTools(e),t.path("/")}).error(function(e){s.Error=e})},this.DeleteSettings=function(e){var t=this.Settings.indexOf(e);-1!=t&&this.Settings.splice(t,1)}};commonModule.service("SettingsServices",["$http","$location","NavbarServices",function(e,t,o){return new SettingsServices(e,t,o)}]);var FooterServices=function(e){var t=this;this.Version="",this.GetVersion=function(){e.get("/api/SimonVersion/").success(function(e){t.Version=e.DisplayText})}};commonModule.service("FooterServices",["$http",function(e){return new FooterServices(e)}]),function(){function e(e){var t=this;t.PageHeadServices=e}angular.module("CommonModule").controller("PageHeadController",e),e.$inject=["PageHeadServices"]}(),commonModule.controller("NavbarController",["$scope","$http","NavbarServices",function(e,t,o){o.UpdateTools(t),e.NavbarServices=o}]),commonModule.controller("BreadcrumbController",["$scope","BreadcrumbServices",function(e,t){e.BreadcrumbServices=t}]),commonModule.controller("SettingsController",["$scope","$location","NavbarServices","BreadcrumbServices","PageHeadServices","SettingsServices",function(e,t,o,r,s,i){o.DeactivateAll(),o.SettingsMenu.SetAsActive(),s.Title="Global settings",r.IsVisible=!1,i.GetSettings(),e.SettingsServices=i}]),commonModule.controller("AboutController",["$scope","$location","NavbarServices","BreadcrumbServices","PageHeadServices",function(e,t,o,r,s){o.DeactivateAll(),o.AboutMenu.SetAsActive(),r.IsVisible=!1,s.Title="About"}]),commonModule.controller("FooterController",["$scope","FooterServices",function(e,t){t.GetVersion(),e.FooterServices=t}]);var ProjectsServices=function(e,t,o,r){var s=this;this.Projects=[],this.Error=r,this.SelectedProject=r,this.GetProjects=function(){return e.get("/api/projects").success(function(e){s.Projects=angular.fromJson(e)}).error(function(e){s.Error=e})},this.GetProjectDetails=function(t){return e.get("/api/projects/"+t).success(function(e){s.SelectedProject=angular.fromJson(e)}).error(function(e){s.Error=e})},this.AddProject=function(r){return e.post("/api/projects/",r).success(function(e){o.RemoveLast(),t.path("/"+e.Id)}).error(function(e){s.Error=e})},this.UpdateProject=function(){return e.post("/api/projects/",s.SelectedProject).success(function(){o.RemoveLast(),t.path("/"+s.SelectedProject.Id)}).error(function(e){s.Error=e})}};projectsModule.service("ProjectsServices",["$http","$location","BreadcrumbServices",function(e,t,o){return new ProjectsServices(e,t,o)}]),projectsModule.controller("ProjectsController",["$scope","$location","PageHeadServices","NavbarServices","BreadcrumbServices","ProjectsServices",function(e,t,o,r,s,i){r.DeactivateAll(),o.Title="Home",i.GetProjects().success(function(){s.Reset(),s.AddNew(t,o.Title)}),e.ProjectsServices=i}]),projectsModule.controller("NewProjectController",["$scope","$location","$routeParams","PageHeadServices","NavbarServices","BreadcrumbServices","ProjectsServices",function(e,t,o,r,s,i,c){s.DeactivateAll(),r.Title="Add New Project",i.AddNew(t,r.Title),e.ProjectsServices=c,e.NewProjectDetails={Name:"",Description:""}}]),projectsModule.controller("ProjectDetailsController",["$scope","$location","$routeParams","PageHeadServices","NavbarServices","BreadcrumbServices","ProjectsServices",function(e,t,o,r,s,i,c){s.DeactivateAll(),c.GetProjectDetails(o.ProjectId).success(function(){r.Title=c.SelectedProject.Name,i.AddNew(t,r.Title)}),e.ProjectsServices=c}]),projectsModule.controller("EditProjectController",["$scope","$location","$routeParams","PageHeadServices","NavbarServices","BreadcrumbServices","ProjectsServices",function(e,t,o,r,s,i,c){s.DeactivateAll(),c.GetProjectDetails(o.ProjectId).success(function(){r.Title="Edit "+c.SelectedProject.Name,i.RemoveLast(),i.AddNew(t,r.Title)}),e.ProjectsServices=c}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAwX3NpbW9uLm1vZHVsZS5qcyIsIjAxX3NpbW9uLnJvdXRlcy5qcyIsIjAwX0NvbW1vbi8wMF9Db21tb25Nb2R1bGUuanMiLCIwMV9Qcm9qZWN0cy8wMF9Qcm9qZWN0c01vZHVsZS5qcyIsIjAyX0FwcGxpY2F0aW9ucy8wMF9BcHBsaWNhdGlvbnNNb2R1bGUuanMiLCIwMF9Db21tb24vMDFfRGlyZWN0aXZlcy8wMV9BbmNob3JEaXJlY3RpdmUuanMiLCIwMF9Db21tb24vMDJfU2VydmljZXMvMDFfUGFnZUhlYWRTZXJ2aWNlcy5qcyIsIjAwX0NvbW1vbi8wMl9TZXJ2aWNlcy8wMl9OYXZiYXJTZXJ2aWNlcy5qcyIsIjAwX0NvbW1vbi8wMl9TZXJ2aWNlcy8wM19CcmVhZGNydW1iU2VydmljZXMuanMiLCIwMF9Db21tb24vMDJfU2VydmljZXMvMDRfU2V0dGluZ3NTZXJ2aWNlcy5qcyIsIjAwX0NvbW1vbi8wMl9TZXJ2aWNlcy8wNV9Gb290ZXJTZXJ2aWNlcy5qcyIsIjAwX0NvbW1vbi8wM19Db250cm9sbGVycy8wMV9QYWdlSGVhZENvbnRyb2xsZXIuanMiLCIwMF9Db21tb24vMDNfQ29udHJvbGxlcnMvMDJfTmF2YmFyQ29udHJvbGxlci5qcyIsIjAwX0NvbW1vbi8wM19Db250cm9sbGVycy8wM19CcmVhZGNydW1iQ29udHJvbGxlci5qcyIsIjAwX0NvbW1vbi8wM19Db250cm9sbGVycy8wNF9TZXR0aW5nc0NvbnRyb2xsZXIuanMiLCIwMF9Db21tb24vMDNfQ29udHJvbGxlcnMvMDVfQWJvdXRDb250cm9sbGVyLmpzIiwiMDBfQ29tbW9uLzAzX0NvbnRyb2xsZXJzLzA2X0Zvb3RlckNvbnRyb2xsZXIuanMiLCIwMV9Qcm9qZWN0cy8wMV9TZXJ2aWNlcy8wMV9Qcm9qZWN0c1NlcnZpY2VzLmpzIiwiMDFfUHJvamVjdHMvMDJfQ29udHJvbGxlcnMvMDFfUHJvamVjdHNDb250cm9sbGVyLmpzIiwiMDFfUHJvamVjdHMvMDJfQ29udHJvbGxlcnMvMDJfTmV3UHJvamVjdENvbnRyb2xsZXIuanMiLCIwMV9Qcm9qZWN0cy8wMl9Db250cm9sbGVycy8wM19Qcm9qZWN0RGV0YWlsc0NvbnRyb2xsZXIuanMiLCIwMV9Qcm9qZWN0cy8wMl9Db250cm9sbGVycy8wNF9FZGl0UHJvamVjdENvbnRyb2xsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUVBLFNBQUEsT0FBQSxTQUVBLFlBQ0EsVUFHQSxlQUNBLGlCQUNBLDBCQ1hBLFdBQ0EsWUFRQSxTQUFBLEdBQUEsR0FDQSxFQUFBLFdBQ0EsV0FBQSxNQVJBLFFBQ0EsT0FBQSxTQUNBLE9BQUEsR0FFQSxFQUFBLFNBQUEscUJDTEEsV0FTQSxRQUFBLEdBQUEsR0FDQSxFQUFBLEtBQUEsVUFDQSxZQUFBLDRDQUNBLFdBQUEsa0JBQ0EsYUFBQSxPQUNBLEtBQUEsYUFDQSxZQUFBLCtDQUNBLFdBQUEscUJBQ0EsYUFBQSxPQWhCQSxRQUNBLE9BQUEsZ0JBQ0EsWUFFQSxPQUFBLEdBRUEsRUFBQSxTQUFBLG9CQ1BBLElBQUEsZ0JBQUEsUUFBQSxPQUFBLGtCQUNBLFVBQ0EsZ0JBR0EsZ0JBQUEsUUFBQSxpQkFDQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQ0EsWUFBQSxpREFDQSxXQUFBLHVCQUNBLEtBQUEsZ0JBQ0EsWUFBQSxtREFDQSxXQUFBLHlCQUNBLEtBQUEsZUFDQSxZQUFBLHVEQUNBLFdBQUEsNkJBQ0EsS0FBQSxvQkFDQSxZQUFBLG9EQUNBLFdBQUEsNEJDbEJBLElBQUEsb0JBQUEsUUFBQSxPQUFBLHNCQUNBLFVBQ0EsZUFDQSxrQkFHQSxvQkFBQSxRQUFBLGlCQUNBLGVDUEEsV0FLQSxRQUFBLEtBTUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsU0FDQSxLQUFBLEVBQUEsTUFDQSxNQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxtQkFWQSxPQUNBLFNBQUEsSUFDQSxLQUFBLEdBUEEsUUFDQSxPQUFBLGdCQUNBLFVBQUEsSUFBQSxLQ0ZBLElBQUEsa0JBQUEsU0FBQSxHQUVBLEtBQUEsS0FBQSxHQUNBLEtBQUEsS0FBQSxJQUdBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFDQSxFQUFBLEVBQUEsVUFBQSxLQUNBLEVBQUEsV0FBQSxHQUFBLElBQ0EsRUFBQSxjQUFBLE1BQ0EsRUFBQSxXQUFBLElBQ0EsRUFBQSxhQUFBLElBQ0EsRUFBQSxhQUVBLEVBQUEsR0FBQSxrQkFBQSxFQUNBLGNBQUEsTUFBQSxtQkFBQSxLQ2hCQSxJQUFBLGdCQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFVBQUEsR0FBQSxZQUFBLFVBQ0EsS0FBQSxhQUFBLEdBQUEsWUFBQSxhQUNBLEtBQUEsTUFBQSxFQUNBLEtBQUEsY0FBQSxXQUNBLEVBQUEsVUFBQSxNQUFBLEdBQ0EsRUFBQSxhQUFBLE1BQUEsSUFFQSxLQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxvQkFBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsUUFBQSxTQUFBLE9BS0EsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsTUFBQSxVQUFBLEVBQ0EsS0FBQSxNQUFBLEdBQ0EsS0FBQSxLQUFBLEVBQ0EsS0FBQSxZQUFBLFdBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxNQUFBLFlBSUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxlQUNBLGNBQUEsTUFBQSxpQkFBQSxLQzdCQSxJQUFBLGdCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsTUFBQSxTQUFBLEVBQUEsT0FDQSxLQUFBLEtBQUEsRUFDQSxLQUFBLEtBQUEsRUFDQSxLQUFBLE1BQUEsR0FDQSxLQUFBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUNBLEdBQ0EsRUFBQSxLQUFBLE1BQUEsR0FDQSxFQUFBLEtBQUEsWUFBQSxFQUFBLElBRUEsRUFBQSxLQUFBLE9BQ0EsRUFBQSxNQUFBLFNBQ0EsRUFBQSxLQUFBLElBSUEsRUFBQSxLQUFBLEdBQUEsZ0JBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxNQUFBLFdBR0EsS0FBQSxNQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLE1BQUEsSUFHQSxLQUFBLE9BQUEsV0FDQSxPQUFBLEVBQUEsTUFFQSxLQUFBLFdBQUEsV0FDQSxLQUFBLE9BQ0EsRUFBQSxLQUFBLFVBQ0EsRUFBQSxNQUFBLFNBQ0EsRUFBQSxLQUFBLEdBR0EsRUFBQSxLQUFBLGdCQU1BLG1CQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFNBQUEsRUFDQSxLQUFBLFdBQUEsRUFDQSxLQUFBLE1BQUEsV0FDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLFdBQUEsR0FFQSxLQUFBLFNBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxNQUlBLE9BSEEsR0FBQSxVQUNBLEVBQUEsU0FBQSxNQUFBLEdBRUEsR0FFQSxLQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQ0EsS0FBQSxVQUNBLEVBQUEsU0FBQSxNQUFBLEdBQ0EsRUFBQSxTQUFBLFlBQUEsRUFBQSxLQUdBLEVBQUEsU0FBQSxHQUFBLGdCQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsTUFBQSxXQUdBLEtBQUEsV0FBQSxXQUNBLEtBQUEsV0FDQSxFQUFBLFNBQUEsU0FDQSxFQUFBLFFBR0EsRUFBQSxTQUFBLGlCQU1BLFdBQ0EsR0FBQSxHQUFBLEdBQUEsbUJBQ0EsY0FBQSxNQUFBLHFCQUFBLEtDcEZBLElBQUEsa0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLE1BQUEsWUFFQSxLQUFBLE1BQUEsRUFDQSxLQUFBLFlBQUEsV0FDQSxNQUFBLEdBQUEsSUFBQSxpQkFBQSxRQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsUUFBQSxTQUFBLEtBQ0EsTUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEtBR0EsS0FBQSxlQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsZ0JBQUEsS0FBQSxVQUFBLFFBQUEsV0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLEtBQUEsT0FDQSxNQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FHQSxLQUFBLGVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFNBQUEsUUFBQSxFQUNBLEtBQUEsR0FDQSxLQUFBLFNBQUEsT0FBQSxFQUFBLElBS0EsY0FBQSxRQUFBLG9CQUNBLFFBQ0EsWUFDQSxpQkFDQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxrQkFBQSxFQUFBLEVBQUEsS0NqQ0EsSUFBQSxnQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsTUFBQSxRQUFBLEdBQ0EsS0FBQSxXQUFBLFdBQ0EsRUFBQSxJQUFBLHNCQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLGVBS0EsY0FBQSxRQUFBLGtCQUNBLFFBQ0EsU0FBQSxHQUNBLE1BQUEsSUFBQSxnQkFBQSxNQ2RBLFdBT0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxpQkFBQSxFQVJBLFFBQ0EsT0FBQSxnQkFDQSxXQUFBLHFCQUFBLEdBRUEsRUFBQSxTQUFBLHVCQ0pBLGFBQUEsV0FBQSxvQkFDQSxTQUNBLFFBQ0EsaUJBQ0EsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLGVBQUEsS0NOQSxhQUFBLFdBQUEsd0JBQ0EsU0FDQSxxQkFDQSxTQUFBLEVBQUEsR0FDQSxFQUFBLG1CQUFBLEtDSkEsYUFBQSxXQUFBLHNCQUNBLFNBQ0EsWUFDQSxpQkFDQSxxQkFDQSxtQkFDQSxtQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQ0EsRUFBQSxhQUFBLGNBQ0EsRUFBQSxNQUFBLGtCQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsY0FDQSxFQUFBLGlCQUFBLEtDYkEsYUFBQSxXQUFBLG1CQUNBLFNBQ0EsWUFDQSxpQkFDQSxxQkFDQSxtQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGdCQUNBLEVBQUEsVUFBQSxjQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsTUFBQSxXQ1ZBLGFBQUEsV0FBQSxvQkFDQSxTQUNBLGlCQUNBLFNBQUEsRUFBQSxHQUNBLEVBQUEsYUFDQSxFQUFBLGVBQUEsSUNMQSxJQUFBLGtCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFlBRUEsS0FBQSxNQUFBLEVBQ0EsS0FBQSxnQkFBQSxFQUNBLEtBQUEsWUFBQSxXQUNBLE1BQUEsR0FBQSxJQUFBLGlCQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxRQUFBLFNBQUEsS0FDQSxNQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FHQSxLQUFBLGtCQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxpQkFBQSxHQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsZ0JBQUEsUUFBQSxTQUFBLEtBQ0EsTUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEtBR0EsS0FBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxpQkFBQSxHQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsYUFDQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE1BQ0EsTUFBQSxTQUFBLEdBQ0EsRUFBQSxNQUFBLEtBR0EsS0FBQSxjQUFBLFdBQ0EsTUFBQSxHQUFBLEtBQUEsaUJBQUEsRUFBQSxpQkFBQSxRQUFBLFdBQ0EsRUFBQSxhQUNBLEVBQUEsS0FBQSxJQUFBLEVBQUEsZ0JBQUEsTUFDQSxNQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsS0FLQSxnQkFBQSxRQUFBLG9CQUNBLFFBQ0EsWUFDQSxxQkFDQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxrQkFBQSxFQUFBLEVBQUEsTUMzQ0EsZUFBQSxXQUFBLHNCQUNBLFNBQ0EsWUFDQSxtQkFDQSxpQkFDQSxxQkFDQSxtQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQ0EsRUFBQSxNQUFBLE9BQ0EsRUFBQSxjQUFBLFFBQUEsV0FDQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUVBLEVBQUEsaUJBQUEsS0NkQSxlQUFBLFdBQUEsd0JBQ0EsU0FDQSxZQUNBLGVBQ0EsbUJBQ0EsaUJBQ0EscUJBQ0EsbUJBQ0EsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQ0EsRUFBQSxNQUFBLGtCQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsT0FDQSxFQUFBLGlCQUFBLEVBQ0EsRUFBQSxtQkFDQSxLQUFBLEdBQ0EsWUFBQSxPQ2ZBLGVBQUEsV0FBQSw0QkFDQSxTQUNBLFlBQ0EsZUFDQSxtQkFDQSxpQkFDQSxxQkFDQSxtQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxnQkFDQSxFQUFBLGtCQUFBLEVBQUEsV0FBQSxRQUFBLFdBQ0EsRUFBQSxNQUFBLEVBQUEsZ0JBQUEsS0FDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFNBRUEsRUFBQSxpQkFBQSxLQ2RBLGVBQUEsV0FBQSx5QkFDQSxTQUNBLFlBQ0EsZUFDQSxtQkFDQSxpQkFDQSxxQkFDQSxtQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxnQkFDQSxFQUFBLGtCQUFBLEVBQUEsV0FBQSxRQUFBLFdBQ0EsRUFBQSxNQUFBLFFBQUEsRUFBQSxnQkFBQSxLQUNBLEVBQUEsYUFDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFNBRUEsRUFBQSxpQkFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdzaW1vbicsIFtcclxuICAgICAgICAvLyBBbmd1bGFyIG1vZHVsZXMgXHJcbiAgICAgICAgJ25nQW5pbWF0ZScsXHJcbiAgICAgICAgJ25nUm91dGUnLFxyXG5cclxuICAgICAgICAvLyBDdXN0b20gbW9kdWxlcyBcclxuICAgICAgICAnQ29tbW9uTW9kdWxlJyxcclxuICAgICAgICAnUHJvamVjdHNNb2R1bGUnLFxyXG4gICAgICAgICdBcHBsaWNhdGlvbnNNb2R1bGUnXHJcbiAgICBdKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdzaW1vbicpXHJcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICAgIGNvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG86ICcvJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KSgpOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uTW9kdWxlJywgW1xyXG4gICAgICAgICAgICAnbmdSb3V0ZSdcclxuICAgICAgICBdKVxyXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgICBjb25maWcuJGluamVjdCA9IFsnJHJvdXRlUHJvdmlkZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvQWJvdXQnLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnTW9kdWxlcy8wMF9Db21tb24vMDNfVGVtcGxhdGVzL0Fib3V0Lmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQWJvdXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgfSkud2hlbignL1NldHRpbmdzJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01vZHVsZXMvMDBfQ29tbW9uLzAzX1RlbXBsYXRlcy9TZXR0aW5ncy5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1NldHRpbmdzQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KSgpOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuXHJcbnZhciBwcm9qZWN0c01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdQcm9qZWN0c01vZHVsZScsIFtcclxuICAgICduZ1JvdXRlJyxcclxuICAgICdDb21tb25Nb2R1bGUnXHJcbl0pO1xyXG5cclxucHJvamVjdHNNb2R1bGUuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLFxyXG4gICAgZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdNb2R1bGVzLzAxX1Byb2plY3RzLzAzX1RlbXBsYXRlcy9Qcm9qZWN0cy5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1Byb2plY3RzQ29udHJvbGxlcidcclxuICAgICAgICB9KS53aGVuKCcvbmV3LXByb2plY3QnLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnTW9kdWxlcy8wMV9Qcm9qZWN0cy8wM19UZW1wbGF0ZXMvTmV3UHJvamVjdC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ05ld1Byb2plY3RDb250cm9sbGVyJ1xyXG4gICAgICAgIH0pLndoZW4oJy86UHJvamVjdElkJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01vZHVsZXMvMDFfUHJvamVjdHMvMDNfVGVtcGxhdGVzL1Byb2plY3REZXRhaWxzLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvamVjdERldGFpbHNDb250cm9sbGVyJ1xyXG4gICAgICAgIH0pLndoZW4oJy86UHJvamVjdElkL2VkaXQnLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnTW9kdWxlcy8wMV9Qcm9qZWN0cy8wM19UZW1wbGF0ZXMvRWRpdFByb2plY3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdFZGl0UHJvamVjdENvbnRyb2xsZXInXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuXHJcbnZhciBhcHBsaWNhdGlvbnNNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb25zTW9kdWxlJywgW1xyXG4gICAgJ25nUm91dGUnLFxyXG4gICAgJ0NvbW1vbk1vZHVsZScsXHJcbiAgICAnUHJvamVjdHNNb2R1bGUnXHJcbl0pO1xyXG5cclxuYXBwbGljYXRpb25zTW9kdWxlLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxcclxuICAgIGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xyXG4gICAgICAgIC8vJHJvdXRlUHJvdmlkZXJcclxuICAgICAgICAvLyAgICAud2hlbihcIi86UHJvamVjdElkXCIsIHtcclxuICAgICAgICAvLyAgICAgICAgdGVtcGxhdGVVcmw6IFwiTW9kdWxlcy8wMV9Qcm9qZWN0cy8wM19UZW1wbGF0ZXMvUHJvamVjdERldGFpbHMuaHRtbFwiLFxyXG4gICAgICAgIC8vICAgICAgICBjb250cm9sbGVyOiBcIlByb2plY3REZXRhaWxzQ29udHJvbGxlclwiXHJcbiAgICAgICAgLy8gICAgfSk7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uTW9kdWxlJylcclxuICAgICAgICAuZGlyZWN0aXZlKCdhJywgYW5jaG9yRGlyZWN0aXZlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhbmNob3JEaXJlY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgbGluazogbGlua1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRycy5uZ0NsaWNrXHJcbiAgICAgICAgICAgICAgICB8fCBhdHRycy5ocmVmID09PSAnJ1xyXG4gICAgICAgICAgICAgICAgfHwgYXR0cnMuaHJlZiA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQ29tbW9uTW9kdWxlLmpzXCIgLz5cclxuXHJcbnZhciBQYWdlSGVhZFNlcnZpY2VzID0gZnVuY3Rpb24gKGRhdGV0aW1lKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLlRpbGUgPSAnJztcclxuICAgIHRoaXMuRGF0ZSA9IGRhdGV0aW1lO1xyXG59O1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjdXJyZW50ZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgZGF0ZXRpbWUgPSBjdXJyZW50ZGF0ZS5nZXREYXRlKCkgKyAnLydcclxuICAgICsgKGN1cnJlbnRkYXRlLmdldE1vbnRoKCkgKyAxKSArICcvJ1xyXG4gICAgKyBjdXJyZW50ZGF0ZS5nZXRGdWxsWWVhcigpICsgJyBAICdcclxuICAgICsgY3VycmVudGRhdGUuZ2V0SG91cnMoKSArICc6J1xyXG4gICAgKyBjdXJyZW50ZGF0ZS5nZXRNaW51dGVzKCkgKyAnOidcclxuICAgICsgY3VycmVudGRhdGUuZ2V0U2Vjb25kcygpO1xyXG5cclxuICAgIHZhciBzaW5nbGV0b25JbnN0YW5jZSA9IG5ldyBQYWdlSGVhZFNlcnZpY2VzKGRhdGV0aW1lKTtcclxuICAgIGNvbW1vbk1vZHVsZS52YWx1ZSgnUGFnZUhlYWRTZXJ2aWNlcycsIHNpbmdsZXRvbkluc3RhbmNlKTtcclxufSkoKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vU2NyaXB0cy9fcmVmZXJlbmNlcy5qc1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Db21tb25Nb2R1bGUuanNcIiAvPlxyXG5cclxudmFyIE5hdmJhclNlcnZpY2VzID0gZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5BYm91dE1lbnUgPSBuZXcgTmF2YmFyTWVudSgnL0Fib3V0Jyk7XHJcbiAgICB0aGlzLlNldHRpbmdzTWVudSA9IG5ldyBOYXZiYXJNZW51KCcvU2V0dGluZ3MnKTtcclxuICAgIHRoaXMuVG9vbHMgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLkRlYWN0aXZhdGVBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5BYm91dE1lbnUuQ2xhc3MgPSAnJztcclxuICAgICAgICBzZWxmLlNldHRpbmdzTWVudS5DbGFzcyA9ICcnO1xyXG4gICAgfVxyXG4gICAgdGhpcy5VcGRhdGVUb29scyA9IGZ1bmN0aW9uICgkaHR0cCkge1xyXG4gICAgICAgICRodHRwLmdldCgnL2FwaS9QbHVnaW5QYXRocycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzZWxmLlRvb2xzID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufTtcclxuXHJcbnZhciBOYXZiYXJNZW51ID0gZnVuY3Rpb24gKHBhdGgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuSXNBY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMuQ2xhc3MgPSAnJztcclxuICAgIHRoaXMuUGF0aCA9IHBhdGg7XHJcbiAgICB0aGlzLlNldEFzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuSXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuQ2xhc3MgPSAnYWN0aXZlJztcclxuICAgIH07XHJcbn07XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNpbmdsZXRvbkluc3RhbmNlID0gbmV3IE5hdmJhclNlcnZpY2VzKCk7XHJcbiAgICBjb21tb25Nb2R1bGUudmFsdWUoJ05hdmJhclNlcnZpY2VzJywgc2luZ2xldG9uSW5zdGFuY2UpO1xyXG59KSgpOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL0NvbW1vbk1vZHVsZS5qc1wiIC8+XHJcblxyXG52YXIgQnJlYWRjcnVtYkl0ZW0gPSBmdW5jdGlvbiAoJGxvY2F0aW9uLCB0ZXh0LCB1bmRlZmluZWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuTG9jYXRpb24gPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAgdGhpcy5UZXh0ID0gdGV4dDtcclxuICAgIHRoaXMuTmV4dCA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuQ2xhc3MgPSAnJztcclxuICAgIHRoaXMuU2V0TmV4dFdpdGggPSBmdW5jdGlvbiAoJGxvY2F0aW9uLCB0ZXh0KSB7XHJcbiAgICAgICAgaWYgKHNlbGYuTmV4dCkge1xyXG4gICAgICAgICAgICBpZiAoJGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLk5leHQuQ2xhc3MgPSAnJztcclxuICAgICAgICAgICAgICAgIHNlbGYuTmV4dC5TZXROZXh0V2l0aCgkbG9jYXRpb24sIHRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFzZWxmLk5leHQuTmV4dCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5DbGFzcyA9ICdhY3RpdmUnO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5OZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLk5leHQgPSBuZXcgQnJlYWRjcnVtYkl0ZW0oJGxvY2F0aW9uLCB0ZXh0KTtcclxuICAgICAgICAgICAgc2VsZi5OZXh0LkNsYXNzID0gJ2FjdGl2ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRoaXMuQWRkVG8gPSBmdW5jdGlvbiAoaXRlbXMpIHtcclxuICAgICAgICBpdGVtcy5wdXNoKHNlbGYpO1xyXG4gICAgICAgIGlmIChzZWxmLk5leHQpIHtcclxuICAgICAgICAgICAgc2VsZi5OZXh0LkFkZFRvKGl0ZW1zKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy5Jc0xhc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICEoc2VsZi5OZXh0KTtcclxuICAgIH1cclxuICAgIHRoaXMuUmVtb3ZlTGFzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5OZXh0KSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLk5leHQuSXNMYXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuQ2xhc3MgPSAnYWN0aXZlJztcclxuICAgICAgICAgICAgICAgIHNlbGYuTmV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuTmV4dC5SZW1vdmVMYXN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxudmFyIEJyZWFkY3J1bWJTZXJ2aWNlcyA9IGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuUm9vdEl0ZW0gPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLklzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5SZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLlJvb3RJdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHNlbGYuSXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgdGhpcy5HZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBpZiAoc2VsZi5Sb290SXRlbSkge1xyXG4gICAgICAgICAgICBzZWxmLlJvb3RJdGVtLkFkZFRvKGl0ZW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfTtcclxuICAgIHRoaXMuQWRkTmV3ID0gZnVuY3Rpb24gKCRsb2NhdGlvbiwgdGV4dCkge1xyXG4gICAgICAgIHNlbGYuSXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5Sb290SXRlbSkge1xyXG4gICAgICAgICAgICBzZWxmLlJvb3RJdGVtLkNsYXNzID0gJyc7XHJcbiAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0uU2V0TmV4dFdpdGgoJGxvY2F0aW9uLCB0ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0gPSBuZXcgQnJlYWRjcnVtYkl0ZW0oJGxvY2F0aW9uLCB0ZXh0KTtcclxuICAgICAgICAgICAgc2VsZi5Sb290SXRlbS5DbGFzcyA9ICdhY3RpdmUnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLlJlbW92ZUxhc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuUm9vdEl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuUm9vdEl0ZW0uSXNMYXN0KCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuUmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0uUmVtb3ZlTGFzdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2luZ2xldG9uSW5zdGFuY2UgPSBuZXcgQnJlYWRjcnVtYlNlcnZpY2VzKCk7XHJcbiAgICBjb21tb25Nb2R1bGUudmFsdWUoJ0JyZWFkY3J1bWJTZXJ2aWNlcycsIHNpbmdsZXRvbkluc3RhbmNlKTtcclxufSkoKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vU2NyaXB0cy9fcmVmZXJlbmNlcy5qc1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Db21tb25Nb2R1bGUuanNcIiAvPlxyXG5cclxudmFyIFNldHRpbmdzU2VydmljZXMgPSBmdW5jdGlvbiAoJGh0dHAsICRsb2NhdGlvbiwgbmF2YmFyU2VydmljZXMsIHVuZGVmaW5lZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5TZXR0aW5ncyA9IFtcclxuICAgIF07XHJcbiAgICB0aGlzLkVycm9yID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5HZXRTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3NldHRpbmdzJykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuU2V0dGluZ3MgPSBhbmd1bGFyLmZyb21Kc29uKHJlc3VsdCk7XHJcbiAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzZWxmLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHRoaXMuVXBkYXRlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2V0dGluZ3MnLCB0aGlzLlNldHRpbmdzKS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZXMuVXBkYXRlVG9vbHMoJGh0dHApO1xyXG4gICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLkRlbGV0ZVNldHRpbmdzID0gZnVuY3Rpb24gKGVhY2hTZXR0aW5nKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLlNldHRpbmdzLmluZGV4T2YoZWFjaFNldHRpbmcpO1xyXG4gICAgICAgIGlmIChpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0dGluZ3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5jb21tb25Nb2R1bGUuc2VydmljZSgnU2V0dGluZ3NTZXJ2aWNlcycsIFtcclxuICAgICckaHR0cCcsXHJcbiAgICAnJGxvY2F0aW9uJyxcclxuICAgICdOYXZiYXJTZXJ2aWNlcycsXHJcbiAgICBmdW5jdGlvbiAoJGh0dHAsICRsb2NhdGlvbiwgbmF2YmFyU2VydmljZXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFNldHRpbmdzU2VydmljZXMoJGh0dHAsICRsb2NhdGlvbiwgbmF2YmFyU2VydmljZXMpO1xyXG4gICAgfVxyXG5dKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vU2NyaXB0cy9fcmVmZXJlbmNlcy5qc1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Db21tb25Nb2R1bGUuanNcIiAvPlxyXG5cclxudmFyIEZvb3RlclNlcnZpY2VzID0gZnVuY3Rpb24gKCRodHRwKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLlZlcnNpb24gPSAnJztcclxuICAgIHRoaXMuR2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkaHR0cC5nZXQoJy9hcGkvU2ltb25WZXJzaW9uLycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzZWxmLlZlcnNpb24gPSByZXN1bHQuRGlzcGxheVRleHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuY29tbW9uTW9kdWxlLnNlcnZpY2UoJ0Zvb3RlclNlcnZpY2VzJywgW1xyXG4gICAgJyRodHRwJyxcclxuICAgIGZ1bmN0aW9uICgkaHR0cCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRm9vdGVyU2VydmljZXMoJGh0dHApO1xyXG4gICAgfVxyXG5dKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vU2NyaXB0cy9fcmVmZXJlbmNlcy5qc1wiIC8+XHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbk1vZHVsZScpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1BhZ2VIZWFkQ29udHJvbGxlcicsIFBhZ2VIZWFkQ29udHJvbGxlcik7XHJcblxyXG4gICAgUGFnZUhlYWRDb250cm9sbGVyLiRpbmplY3QgPSBbJ1BhZ2VIZWFkU2VydmljZXMnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBQYWdlSGVhZENvbnRyb2xsZXIocGFnZUhlYWRTZXJ2aWNlcykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uUGFnZUhlYWRTZXJ2aWNlcyA9IHBhZ2VIZWFkU2VydmljZXM7XHJcbiAgICB9XHJcbn0pKCk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQ29tbW9uTW9kdWxlLmpzXCIgLz5cclxuXHJcbmNvbW1vbk1vZHVsZS5jb250cm9sbGVyKCdOYXZiYXJDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnJGh0dHAnLFxyXG4gICAgJ05hdmJhclNlcnZpY2VzJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCBuYXZiYXJTZXJ2aWNlcykge1xyXG4gICAgICAgIG5hdmJhclNlcnZpY2VzLlVwZGF0ZVRvb2xzKCRodHRwKTtcclxuICAgICAgICAkc2NvcGUuTmF2YmFyU2VydmljZXMgPSBuYXZiYXJTZXJ2aWNlcztcclxuICAgIH1cclxuXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQ29tbW9uTW9kdWxlLmpzXCIgLz5cclxuXHJcbmNvbW1vbk1vZHVsZS5jb250cm9sbGVyKCdCcmVhZGNydW1iQ29udHJvbGxlcicsIFtcclxuICAgICckc2NvcGUnLFxyXG4gICAgJ0JyZWFkY3J1bWJTZXJ2aWNlcycsXHJcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBicmVhZGNydW1iU2VydmljZXMpIHtcclxuICAgICAgICAkc2NvcGUuQnJlYWRjcnVtYlNlcnZpY2VzID0gYnJlYWRjcnVtYlNlcnZpY2VzO1xyXG4gICAgfVxyXG5dKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vU2NyaXB0cy9fcmVmZXJlbmNlcy5qc1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9Db21tb25Nb2R1bGUuanNcIiAvPlxyXG5cclxuY29tbW9uTW9kdWxlLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcicsIFtcclxuICAgICckc2NvcGUnLFxyXG4gICAgJyRsb2NhdGlvbicsXHJcbiAgICAnTmF2YmFyU2VydmljZXMnLFxyXG4gICAgJ0JyZWFkY3J1bWJTZXJ2aWNlcycsXHJcbiAgICAnUGFnZUhlYWRTZXJ2aWNlcycsXHJcbiAgICAnU2V0dGluZ3NTZXJ2aWNlcycsXHJcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYXRpb24sIG5hdmJhclNlcnZpY2VzLCBicmVhZGNydW1iU2VydmljZXMsIHBhZ2VIZWFkU2VydmljZXMsIHNldHRpbmdzU2VydmljZXMpIHtcclxuICAgICAgICBuYXZiYXJTZXJ2aWNlcy5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgbmF2YmFyU2VydmljZXMuU2V0dGluZ3NNZW51LlNldEFzQWN0aXZlKCk7XHJcbiAgICAgICAgcGFnZUhlYWRTZXJ2aWNlcy5UaXRsZSA9IFwiR2xvYmFsIHNldHRpbmdzXCI7XHJcbiAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2VzLklzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHNldHRpbmdzU2VydmljZXMuR2V0U2V0dGluZ3MoKTtcclxuICAgICAgICAkc2NvcGUuU2V0dGluZ3NTZXJ2aWNlcyA9IHNldHRpbmdzU2VydmljZXM7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL0NvbW1vbk1vZHVsZS5qc1wiIC8+XHJcblxyXG5jb21tb25Nb2R1bGUuY29udHJvbGxlcignQWJvdXRDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnJGxvY2F0aW9uJyxcclxuICAgICdOYXZiYXJTZXJ2aWNlcycsXHJcbiAgICAnQnJlYWRjcnVtYlNlcnZpY2VzJyxcclxuICAgICdQYWdlSGVhZFNlcnZpY2VzJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhdGlvbiwgbmF2YmFyU2VydmljZXMsIGJyZWFkY3J1bWJTZXJ2aWNlcywgcGFnZUhlYWRTZXJ2aWNlcykge1xyXG4gICAgICAgIG5hdmJhclNlcnZpY2VzLkRlYWN0aXZhdGVBbGwoKTtcclxuICAgICAgICBuYXZiYXJTZXJ2aWNlcy5BYm91dE1lbnUuU2V0QXNBY3RpdmUoKTtcclxuICAgICAgICBicmVhZGNydW1iU2VydmljZXMuSXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgcGFnZUhlYWRTZXJ2aWNlcy5UaXRsZSA9IFwiQWJvdXRcIjtcclxuICAgIH1cclxuXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vQ29tbW9uTW9kdWxlLmpzXCIgLz5cclxuXHJcbmNvbW1vbk1vZHVsZS5jb250cm9sbGVyKCdGb290ZXJDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnRm9vdGVyU2VydmljZXMnLFxyXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgZm9vdGVyU2VydmljZXMpIHtcclxuICAgICAgICBmb290ZXJTZXJ2aWNlcy5HZXRWZXJzaW9uKCk7XHJcbiAgICAgICAgJHNjb3BlLkZvb3RlclNlcnZpY2VzID0gZm9vdGVyU2VydmljZXM7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL1Byb2plY3RzTW9kdWxlLmpzXCIgLz5cclxuXHJcbnZhciBQcm9qZWN0c1NlcnZpY2VzID0gZnVuY3Rpb24gKCRodHRwLCAkbG9jYXRpb24sIGJyZWFkY3J1bWJTZXJ2aWNlcywgdW5kZWZpbmVkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLlByb2plY3RzID0gW1xyXG4gICAgXTtcclxuICAgIHRoaXMuRXJyb3IgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLlNlbGVjdGVkUHJvamVjdCA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuR2V0UHJvamVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0cycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzZWxmLlByb2plY3RzID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLkdldFByb2plY3REZXRhaWxzID0gZnVuY3Rpb24gKHByb2plY3RJZCkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcHJvamVjdHMvJyArIHByb2plY3RJZCkuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuU2VsZWN0ZWRQcm9qZWN0ID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB0aGlzLkFkZFByb2plY3QgPSBmdW5jdGlvbiAobmV3UHJvamVjdERldGFpbHMpIHtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0cy8nLCBuZXdQcm9qZWN0RGV0YWlscykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlcy5SZW1vdmVMYXN0KCk7XHJcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyArIHJlc3VsdC5JZCk7XHJcbiAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBzZWxmLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5VcGRhdGVQcm9qZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Byb2plY3RzLycsIHNlbGYuU2VsZWN0ZWRQcm9qZWN0KS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2VzLlJlbW92ZUxhc3QoKTtcclxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nICsgc2VsZi5TZWxlY3RlZFByb2plY3QuSWQpO1xyXG4gICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbnByb2plY3RzTW9kdWxlLnNlcnZpY2UoJ1Byb2plY3RzU2VydmljZXMnLCBbXHJcbiAgICAnJGh0dHAnLFxyXG4gICAgJyRsb2NhdGlvbicsXHJcbiAgICAnQnJlYWRjcnVtYlNlcnZpY2VzJyxcclxuICAgIGZ1bmN0aW9uICgkaHR0cCwgJGxvY2F0aW9uLCBicmVhZGNydW1iU2VydmljZXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb2plY3RzU2VydmljZXMoJGh0dHAsICRsb2NhdGlvbiwgYnJlYWRjcnVtYlNlcnZpY2VzKTtcclxuICAgIH1cclxuXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vUHJvamVjdHNNb2R1bGUuanNcIiAvPlxyXG5cclxucHJvamVjdHNNb2R1bGUuY29udHJvbGxlcignUHJvamVjdHNDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnJGxvY2F0aW9uJyxcclxuICAgICdQYWdlSGVhZFNlcnZpY2VzJyxcclxuICAgICdOYXZiYXJTZXJ2aWNlcycsXHJcbiAgICAnQnJlYWRjcnVtYlNlcnZpY2VzJyxcclxuICAgICdQcm9qZWN0c1NlcnZpY2VzJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhdGlvbiwgcGFnZUhlYWRTZXJ2aWNlcywgbmF2YmFyU2VydmljZXMsIGJyZWFkY3J1bWJTZXJ2aWNlcywgcHJvamVjdHNTZXJ2aWNlcykge1xyXG4gICAgICAgIG5hdmJhclNlcnZpY2VzLkRlYWN0aXZhdGVBbGwoKTtcclxuICAgICAgICBwYWdlSGVhZFNlcnZpY2VzLlRpdGxlID0gJ0hvbWUnO1xyXG4gICAgICAgIHByb2plY3RzU2VydmljZXMuR2V0UHJvamVjdHMoKS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2VzLlJlc2V0KCk7XHJcbiAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlcy5BZGROZXcoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2VzLlRpdGxlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuUHJvamVjdHNTZXJ2aWNlcyA9IHByb2plY3RzU2VydmljZXM7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL1Byb2plY3RzTW9kdWxlLmpzXCIgLz5cclxuXHJcbnByb2plY3RzTW9kdWxlLmNvbnRyb2xsZXIoJ05ld1Byb2plY3RDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnJGxvY2F0aW9uJyxcclxuICAgICckcm91dGVQYXJhbXMnLFxyXG4gICAgJ1BhZ2VIZWFkU2VydmljZXMnLFxyXG4gICAgJ05hdmJhclNlcnZpY2VzJyxcclxuICAgICdCcmVhZGNydW1iU2VydmljZXMnLFxyXG4gICAgJ1Byb2plY3RzU2VydmljZXMnLFxyXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkcm91dGVQYXJhbXMsIHBhZ2VIZWFkU2VydmljZXMsIG5hdmJhclNlcnZpY2VzLCBicmVhZGNydW1iU2VydmljZXMsIHByb2plY3RzU2VydmljZXMpIHtcclxuICAgICAgICBuYXZiYXJTZXJ2aWNlcy5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgcGFnZUhlYWRTZXJ2aWNlcy5UaXRsZSA9ICdBZGQgTmV3IFByb2plY3QnO1xyXG4gICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlcy5BZGROZXcoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2VzLlRpdGxlKTtcclxuICAgICAgICAkc2NvcGUuUHJvamVjdHNTZXJ2aWNlcyA9IHByb2plY3RzU2VydmljZXM7XHJcbiAgICAgICAgJHNjb3BlLk5ld1Byb2plY3REZXRhaWxzID0ge1xyXG4gICAgICAgICAgICBOYW1lOiAnJyxcclxuICAgICAgICAgICAgRGVzY3JpcHRpb246ICcnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL1NjcmlwdHMvX3JlZmVyZW5jZXMuanNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vUHJvamVjdHNNb2R1bGUuanNcIiAvPlxyXG5cclxucHJvamVjdHNNb2R1bGUuY29udHJvbGxlcignUHJvamVjdERldGFpbHNDb250cm9sbGVyJywgW1xyXG4gICAgJyRzY29wZScsXHJcbiAgICAnJGxvY2F0aW9uJyxcclxuICAgICckcm91dGVQYXJhbXMnLFxyXG4gICAgJ1BhZ2VIZWFkU2VydmljZXMnLFxyXG4gICAgJ05hdmJhclNlcnZpY2VzJyxcclxuICAgICdCcmVhZGNydW1iU2VydmljZXMnLFxyXG4gICAgJ1Byb2plY3RzU2VydmljZXMnLFxyXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkcm91dGVQYXJhbXMsIHBhZ2VIZWFkU2VydmljZXMsIG5hdmJhclNlcnZpY2VzLCBicmVhZGNydW1iU2VydmljZXMsIHByb2plY3RzU2VydmljZXMpIHtcclxuICAgICAgICBuYXZiYXJTZXJ2aWNlcy5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgcHJvamVjdHNTZXJ2aWNlcy5HZXRQcm9qZWN0RGV0YWlscygkcm91dGVQYXJhbXMuUHJvamVjdElkKS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGFnZUhlYWRTZXJ2aWNlcy5UaXRsZSA9IHByb2plY3RzU2VydmljZXMuU2VsZWN0ZWRQcm9qZWN0Lk5hbWU7XHJcbiAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlcy5BZGROZXcoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2VzLlRpdGxlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuUHJvamVjdHNTZXJ2aWNlcyA9IHByb2plY3RzU2VydmljZXM7XHJcbiAgICB9XHJcbl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9TY3JpcHRzL19yZWZlcmVuY2VzLmpzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL1Byb2plY3RzTW9kdWxlLmpzXCIgLz5cclxuXHJcbnByb2plY3RzTW9kdWxlLmNvbnRyb2xsZXIoJ0VkaXRQcm9qZWN0Q29udHJvbGxlcicsIFtcclxuICAgICckc2NvcGUnLFxyXG4gICAgJyRsb2NhdGlvbicsXHJcbiAgICAnJHJvdXRlUGFyYW1zJyxcclxuICAgICdQYWdlSGVhZFNlcnZpY2VzJyxcclxuICAgICdOYXZiYXJTZXJ2aWNlcycsXHJcbiAgICAnQnJlYWRjcnVtYlNlcnZpY2VzJyxcclxuICAgICdQcm9qZWN0c1NlcnZpY2VzJyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhdGlvbiwgJHJvdXRlUGFyYW1zLCBwYWdlSGVhZFNlcnZpY2VzLCBuYXZiYXJTZXJ2aWNlcywgYnJlYWRjcnVtYlNlcnZpY2VzLCBwcm9qZWN0c1NlcnZpY2VzKSB7XHJcbiAgICAgICAgbmF2YmFyU2VydmljZXMuRGVhY3RpdmF0ZUFsbCgpO1xyXG4gICAgICAgIHByb2plY3RzU2VydmljZXMuR2V0UHJvamVjdERldGFpbHMoJHJvdXRlUGFyYW1zLlByb2plY3RJZCkuc3VjY2VzcyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBhZ2VIZWFkU2VydmljZXMuVGl0bGUgPSAnRWRpdCAnICsgcHJvamVjdHNTZXJ2aWNlcy5TZWxlY3RlZFByb2plY3QuTmFtZTtcclxuICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2VzLlJlbW92ZUxhc3QoKTtcclxuICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2VzLkFkZE5ldygkbG9jYXRpb24sIHBhZ2VIZWFkU2VydmljZXMuVGl0bGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICRzY29wZS5Qcm9qZWN0c1NlcnZpY2VzID0gcHJvamVjdHNTZXJ2aWNlcztcclxuICAgIH1cclxuXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9