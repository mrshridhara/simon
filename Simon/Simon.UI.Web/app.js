!function(e){"use strict";e.module("Simon",["ngRoute","Common","Projects","Applications"])}(angular),function(e){"use strict";function t(e){e.otherwise({redirectTo:"/"})}e.module("Simon").config(t),t.$inject=["$routeProvider"]}(angular),function(e){"use strict";e.module("Common",["ngRoute"])}(angular),function(e){"use strict";function t(e){e.when("/About",{templateUrl:"App/00_Common/03_Templates/About.html",controller:"About",controllerAs:"vm"}).when("/Settings",{templateUrl:"App/00_Common/03_Templates/Settings.html",controller:"Settings",controllerAs:"vm"})}e.module("Common").config(t),t.$inject=["$routeProvider"]}(angular),function(e){"use strict";e.module("Projects",["ngRoute","Common"])}(angular),function(e){"use strict";function t(e){e.when("/",{templateUrl:"App/01_Projects/03_Templates/Projects.html",controller:"Projects",controllerAs:"vm"}).when("/new-project",{templateUrl:"App/01_Projects/03_Templates/NewProject.html",controller:"NewProject",controllerAs:"vm"}).when("/:ProjectId",{templateUrl:"App/01_Projects/03_Templates/ProjectDetails.html",controller:"ProjectDetails",controllerAs:"vm"}).when("/:ProjectId/edit",{templateUrl:"App/01_Projects/03_Templates/EditProject.html",controller:"EditProject",controllerAs:"vm"})}e.module("Projects").config(t),t.$inject=["$routeProvider"]}(angular),function(e){"use strict";e.module("Applications",["ngRoute","Common","Projects"])}(angular),function(e){"use strict";function t(e){e.when("/:ProjectId/new-application",{templateUrl:"App/02_Applications/03_Templates/NewApplication.html",controller:"NewApplication",controllerAs:"vm"}).when("/:ProjectId/:ApplicationId",{templateUrl:"App/02_Applications/03_Templates/ApplicationDetails.html",controller:"ApplicationDetails",controllerAs:"vm"}).when("/:ProjectId/:ApplicationId/edit",{templateUrl:"App/02_Applications/03_Templates/EditApplication.html",controller:"EditApplication",controllerAs:"vm"})}e.module("Applications").config(t),t.$inject=["$routeProvider"]}(angular),function(e){"use strict";function t(){function e(e,t,o){(o.ngClick||""===o.href||"#"===o.href)&&t.on("click",function(e){e.preventDefault()})}return{restrict:"E",link:e}}e.module("Common").directive("a",t)}(angular),function(e){"use strict";function t(){var e=this;e.Title=""}e.module("Common").value("PageHeadService",new t)}(angular),function(e){"use strict";function t(){function t(){i.AboutMenu.Class="",i.SettingsMenu.Class=""}function n(t){t.get("/api/PluginPaths").success(function(t){i.Tools=e.fromJson(t)})}function r(t){t.get("/api/User").success(function(t){i.User=e.fromJson(t)})}var i=this;i.AboutMenu=new o("/About","About"),i.SettingsMenu=new o("/Settings","Settings"),i.Tools=void 0,i.User=void 0,i.DeactivateAll=t,i.LoadTools=n,i.LoadUser=r}function o(e,t){function o(){n.IsActive=!0,n.Class="active"}var n=this;n.IsActive=!1,n.Class="",n.Path=e,n.Text=t,n.SetAsActive=o}e.module("Common").value("NavbarService",new t)}(angular),function(e){"use strict";function t(){function e(){i.RootItem=void 0,i.IsVisible=!1}function t(){var e=[];return i.RootItem&&i.RootItem.AddTo(e),e}function n(e,t){i.IsVisible=!0,i.RootItem?(i.RootItem.Class="",i.RootItem.SetNextWith(e,t)):(i.RootItem=new o(e,t),i.RootItem.Class="active")}function r(){i.RootItem&&(i.RootItem.IsLast()?i.Reset():i.RootItem.RemoveLast())}var i=this;i.RootItem=void 0,i.IsVisible=!1,i.Reset=e,i.GetItems=t,i.AddNew=n,i.RemoveLast=r}function o(e,t){function n(e,t){s.Next?e?(s.Next.Class="",s.Next.SetNextWith(e,t)):s.Next.Next||(s.Class="active",s.Next=void 0):(s.Next=new o(e,t),s.Next.Class="active")}function r(e){e.push(s),s.Next&&s.Next.AddTo(e)}function i(){return!s.Next}function c(){s.Next&&(s.Next.IsLast()?(s.Class="active",s.Next=void 0):s.Next.RemoveLast())}var s=this;s.Location=e.path(),s.Text=t,s.Next=void 0,s.Class="",s.SetNextWith=n,s.AddTo=r,s.IsLast=i,s.RemoveLast=c}e.module("Common").value("BreadcrumbService",new t)}(angular),function(e){"use strict";function t(t,o,n){function r(){return t.get("/api/Settings").success(function(t){s.Settings=e.fromJson(t)}).error(function(e){s.Error=e})}function i(){return t.post("/api/Settings",s.Settings).success(function(){n.UpdateTools(t),o.path("/")}).error(function(e){s.Error=e})}function c(e){var t=s.Settings.indexOf(e);-1!=t&&s.Settings.splice(t,1)}var s=this;s.Settings=[],s.GetSettings=r,s.UpdateSettings=i,s.DeleteSettings=c}e.module("Common").service("SettingsService",t),t.$inject=["$http","$location","NavbarService"]}(angular),function(e){"use strict";function t(e){function t(){e.get("/api/SimonVersion/").success(function(e){o.Version=e.DisplayText})}var o=this;o.Version="",o.GetVersion=t}e.module("Common").service("SimonVersionService",t),t.$inject=["$http"]}(angular),function(e){"use strict";function t(t){function o(){return t.get("/api/Plugins").success(function(t){n.Plugins=e.fromJson(t)})}var n=this;n.Plugins=void 0,n.GetPlugins=o}e.module("Common").service("PluginsService",t),t.$inject=["$http"]}(angular),function(e){"use strict";function t(e){var t=this;t.PageHeadService=e}e.module("Common").controller("PageHead",t),t.$inject=["PageHeadService"]}(angular),function(e){"use strict";function t(e,t,o){function n(){t.LoadTools(e),t.LoadUser(e),o.GetVersion()}var r=this;r.NavbarService=t,r.SimonVersionService=o,n()}e.module("Common").controller("Navbar",t),t.$inject=["$http","NavbarService","SimonVersionService"]}(angular),function(e){"use strict";function t(e){var t=this;t.BreadcrumbService=e}e.module("Common").controller("Breadcrumb",t),t.$inject=["BreadcrumbService"]}(angular),function(e){"use strict";function t(e,t,o,n,r,i){function c(){try{t.Title="Global settings",o.IsVisible=!1,n.DeactivateAll(),n.SettingsMenu.SetAsActive(),r.GetSettings().error(function(e){s.Error=e}),i.GetPlugins().error(function(e){s.Error=e})}catch(e){console.log(e)}}var s=this;s.Error=void 0,s.PageHeadService=t,s.BreadcrumbService=o,s.NavbarService=n,s.SettingsService=r,s.PluginsService=i,c()}e.module("Common").controller("Settings",t),t.$inject=["$location","PageHeadService","BreadcrumbService","NavbarService","SettingsService","PluginsService"]}(angular),function(e){"use strict";function t(e,t,o,n){function r(){t.Title="About",o.IsVisible=!1,n.DeactivateAll(),n.AboutMenu.SetAsActive()}var i=this;i.PageHeadService=t,i.BreadcrumbService=o,i.NavbarService=n,r()}e.module("Common").controller("About",t),t.$inject=["$location","PageHeadService","BreadcrumbService","NavbarService"]}(angular),function(e){"use strict";function t(){function e(){}e()}e.module("Common").controller("Footer",t)}(angular),function(e){"use strict";function t(t,o,n){function r(){return t.get("/api/projects").success(function(t){a.Projects=e.fromJson(t)}).error(function(e){a.Error=e})}function i(o){return t.get("/api/projects/"+o).success(function(t){a.SelectedProject=e.fromJson(t)}).error(function(e){a.Error=e})}function c(e){return t.post("/api/projects/",e).success(function(e){n.RemoveLast(),o.path("/"+e.Id)}).error(function(e){a.Error=e})}function s(){return t.post("/api/projects/",a.SelectedProject).success(function(){n.RemoveLast(),o.path("/"+a.SelectedProject.Id)}).error(function(e){a.Error=e})}var a=this;a.Projects=[],a.Error=void 0,a.SelectedProject=void 0,a.GetProjects=r,a.GetProjectDetails=i,a.AddProject=c,a.UpdateProject=s}e.module("Projects").service("ProjectsService",t),t.$inject=["$http","$location","BreadcrumbService"]}(angular),function(e){"use strict";function t(e,t,o,n,r){function i(){t.Title="Home",o.DeactivateAll(),r.GetProjects().success(function(){n.Reset(),n.AddNew(e,t.Title)})}var c=this;c.ProjectsService=r,i()}e.module("Projects").controller("Projects",t),t.$inject=["$location","PageHeadService","NavbarService","BreadcrumbService","ProjectsService"]}(angular),function(e){"use strict";function t(e,t,o,n,r,i){function c(){o.Title="Add New Project",n.DeactivateAll(),r.AddNew(e,o.Title)}var s=this;s.ProjectsService=i,s.NewProjectDetails={Name:"",Description:""},c()}e.module("Projects").controller("NewProject",t),t.$inject=["$location","$routeParams","PageHeadService","NavbarService","BreadcrumbService","ProjectsService"]}(angular),function(e){"use strict";function t(e,t,o,n,r,i){function c(){n.DeactivateAll(),i.GetProjectDetails(t.ProjectId).success(function(){o.Title=i.SelectedProject.Name,r.AddNew(e,o.Title)})}var s=this;s.ProjectsService=i,c()}e.module("Projects").controller("ProjectDetails",t),t.$inject=["$location","$routeParams","PageHeadService","NavbarService","BreadcrumbService","ProjectsService"]}(angular),function(e){"use strict";function t(e,t,o,n,r,i){function c(){n.DeactivateAll(),i.GetProjectDetails(t.ProjectId).success(function(){o.Title="Edit "+i.SelectedProject.Name,r.RemoveLast(),r.AddNew(e,o.Title)})}var s=this;s.ProjectsService=i,c()}e.module("Projects").controller("EditProject",t),t.$inject=["$location","$routeParams","PageHeadService","NavbarService","BreadcrumbService","ProjectsService"]}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAwX1NpbW9uLk1vZHVsZS5qcyIsIjAxX1NpbW9uLlJvdXRlcy5qcyIsIjAwX0NvbW1vbi8wMF9Db21tb24uTW9kdWxlLmpzIiwiMDBfQ29tbW9uLzAxX0NvbW1vbi5Sb3V0ZXMuanMiLCIwMV9Qcm9qZWN0cy8wMF9Qcm9qZWN0cy5Nb2R1bGUuanMiLCIwMV9Qcm9qZWN0cy8wMV9Qcm9qZWN0cy5Sb3V0ZXMuanMiLCIwMl9BcHBsaWNhdGlvbnMvMDBfQXBwbGljYXRpb25zLk1vZHVsZS5qcyIsIjAyX0FwcGxpY2F0aW9ucy8wMV9BcHBsaWNhdGlvbnMuUm91dGVzLmpzIiwiMDBfQ29tbW9uLzAwX0RpcmVjdGl2ZXMvMDFfQW5jaG9yLkRpcmVjdGl2ZS5qcyIsIjAwX0NvbW1vbi8wMV9TZXJ2aWNlcy8wMV9QYWdlSGVhZC5TZXJ2aWNlLmpzIiwiMDBfQ29tbW9uLzAxX1NlcnZpY2VzLzAyX05hdmJhci5TZXJ2aWNlLmpzIiwiMDBfQ29tbW9uLzAxX1NlcnZpY2VzLzAzX0JyZWFkY3J1bWIuU2VydmljZS5qcyIsIjAwX0NvbW1vbi8wMV9TZXJ2aWNlcy8wNF9TZXR0aW5ncy5TZXJ2aWNlLmpzIiwiMDBfQ29tbW9uLzAxX1NlcnZpY2VzLzA1X1NpbW9uVmVyc2lvbi5TZXJ2aWNlLmpzIiwiMDBfQ29tbW9uLzAxX1NlcnZpY2VzLzA2X1BsdWdpbnMuU2VydmljZS5qcyIsIjAwX0NvbW1vbi8wMl9Db250cm9sbGVycy8wMV9QYWdlSGVhZC5Db250cm9sbGVyLmpzIiwiMDBfQ29tbW9uLzAyX0NvbnRyb2xsZXJzLzAyX05hdmJhci5Db250cm9sbGVyLmpzIiwiMDBfQ29tbW9uLzAyX0NvbnRyb2xsZXJzLzAzX0JyZWFkY3J1bWIuQ29udHJvbGxlci5qcyIsIjAwX0NvbW1vbi8wMl9Db250cm9sbGVycy8wNF9TZXR0aW5ncy5Db250cm9sbGVyLmpzIiwiMDBfQ29tbW9uLzAyX0NvbnRyb2xsZXJzLzA1X0Fib3V0LkNvbnRyb2xsZXIuanMiLCIwMF9Db21tb24vMDJfQ29udHJvbGxlcnMvMDZfRm9vdGVyLkNvbnRyb2xsZXIuanMiLCIwMV9Qcm9qZWN0cy8wMV9TZXJ2aWNlcy8wMV9Qcm9qZWN0cy5TZXJ2aWNlLmpzIiwiMDFfUHJvamVjdHMvMDJfQ29udHJvbGxlcnMvMDFfUHJvamVjdHMuQ29udHJvbGxlci5qcyIsIjAxX1Byb2plY3RzLzAyX0NvbnRyb2xsZXJzLzAyX05ld1Byb2plY3QuQ29udHJvbGxlci5qcyIsIjAxX1Byb2plY3RzLzAyX0NvbnRyb2xsZXJzLzAzX1Byb2plY3REZXRhaWxzLkNvbnRyb2xsZXIuanMiLCIwMV9Qcm9qZWN0cy8wMl9Db250cm9sbGVycy8wNF9FZGl0UHJvamVjdC5Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFNBQUEsR0FDSSxZQUVBLEdBQUEsT0FBQSxTQUNJLFVBQ0EsU0FDQSxXQUNBLGtCQUVSLFNDVEEsU0FBQSxHQUNJLFlBUUEsU0FBQSxHQUFBLEdBQ0ksRUFBQSxXQUNJLFdBQUEsTUFSUixFQUNJLE9BQUEsU0FDQSxPQUFBLEdBRUosRUFBQSxTQUFBLG1CQU9KLFNDZEEsU0FBQSxHQUNJLFlBRUEsR0FDSSxPQUFBLFVBQUEsYUFDUixTQ0xBLFNBQUEsR0FDSSxZQVFBLFNBQUEsR0FBQSxHQUNJLEVBQUEsS0FBQSxVQUNJLFlBQUEsd0NBQ0EsV0FBQSxRQUNBLGFBQUEsT0FDSixLQUFBLGFBQ0ksWUFBQSwyQ0FDQSxXQUFBLFdBQ0EsYUFBQSxPQWRSLEVBQ0ksT0FBQSxVQUNBLE9BQUEsR0FFSixFQUFBLFNBQUEsbUJBYUosU0NwQkEsU0FBQSxHQUNJLFlBRUEsR0FDSSxPQUFBLFlBQ0ksVUFDQSxZQUVaLFNDUkEsU0FBQSxHQUNJLFlBUUEsU0FBQSxHQUFBLEdBQ0ksRUFBQSxLQUFBLEtBQ0ksWUFBQSw2Q0FDQSxXQUFBLFdBQ0EsYUFBQSxPQUNKLEtBQUEsZ0JBQ0ksWUFBQSwrQ0FDQSxXQUFBLGFBQ0EsYUFBQSxPQUNKLEtBQUEsZUFDSSxZQUFBLG1EQUNBLFdBQUEsaUJBQ0EsYUFBQSxPQUNKLEtBQUEsb0JBQ0ksWUFBQSxnREFDQSxXQUFBLGNBQ0EsYUFBQSxPQXRCUixFQUNJLE9BQUEsWUFDQSxPQUFBLEdBRUosRUFBQSxTQUFBLG1CQXFCSixTQzVCQSxTQUFBLEdBQ0ksWUFFQSxHQUNJLE9BQUEsZ0JBQ0ksVUFDQSxTQUNBLGNBRVosU0NUQSxTQUFBLEdBQ0ksWUFRQSxTQUFBLEdBQUEsR0FDSSxFQUFBLEtBQUEsK0JBQ0ksWUFBQSx1REFDQSxXQUFBLGlCQUNBLGFBQUEsT0FDSixLQUFBLDhCQUNJLFlBQUEsMkRBQ0EsV0FBQSxxQkFDQSxhQUFBLE9BQ0osS0FBQSxtQ0FDSSxZQUFBLHdEQUNBLFdBQUEsa0JBQ0EsYUFBQSxPQWxCUixFQUNJLE9BQUEsZ0JBQ0EsT0FBQSxHQUVKLEVBQUEsU0FBQSxtQkFpQkosU0N4QkEsU0FBQSxHQUNJLFlBTUEsU0FBQSxLQU1JLFFBQUEsR0FBQSxFQUFBLEVBQUEsSUFDSSxFQUFBLFNBQUEsS0FBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE9BQ0ksRUFBQSxHQUFBLFFBQUEsU0FBQSxHQUNJLEVBQUEsbUJBUlosT0FDSSxTQUFBLElBQ0EsS0FBQSxHQVBSLEVBQ0ksT0FBQSxVQUNBLFVBQUEsSUFBYSxJQWdCckIsU0NyQkEsU0FBQSxHQUNJLFlBTUEsU0FBQSxLQUVJLEdBQUEsR0FBQSxJQUVBLEdBQUEsTUFBQSxHQVJKLEVBQ0ksT0FBQSxVQUNBLE1BQUEsa0JBQUEsR0FBQSxLQVFSLFNDYkEsU0FBQSxHQUNJLFlBTUEsU0FBQSxLQWFJLFFBQUEsS0FDSSxFQUFBLFVBQUEsTUFBQSxHQUNBLEVBQUEsYUFBQSxNQUFBLEdBR0osUUFBQSxHQUFBLEdBQ0ksRUFBQSxJQUFBLG9CQUFBLFFBQUEsU0FBQSxHQUNJLEVBQUEsTUFBQSxFQUFBLFNBQUEsS0FJUixRQUFBLEdBQUEsR0FDSSxFQUFBLElBQUEsYUFBQSxRQUFBLFNBQUEsR0FDSSxFQUFBLEtBQUEsRUFBQSxTQUFBLEtBeEJSLEdBQUEsR0FBQSxJQUVBLEdBQUEsVUFBQSxHQUFBLEdBQUEsU0FBQSxTQUNBLEVBQUEsYUFBQSxHQUFBLEdBQUEsWUFBQSxZQUNBLEVBQUEsTUFBQSxPQUNBLEVBQUEsS0FBQSxPQUVBLEVBQUEsY0FBQSxFQUNBLEVBQUEsVUFBQSxFQUNBLEVBQUEsU0FBQSxFQW9CSixRQUFBLEdBQUEsRUFBQSxHQVdJLFFBQUEsS0FDSSxFQUFBLFVBQUEsRUFDQSxFQUFBLE1BQUEsU0FYSixHQUFBLEdBQUEsSUFFQSxHQUFBLFVBQUEsRUFDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEtBQUEsRUFFQSxFQUFBLFlBQUEsRUE1Q0osRUFDSSxPQUFBLFVBQ0EsTUFBQSxnQkFBQSxHQUFBLEtBaURSLFNDdERBLFNBQUEsR0FDSSxZQU1BLFNBQUEsS0FZSSxRQUFBLEtBQ0ksRUFBQSxTQUFBLE9BQ0EsRUFBQSxXQUFBLEVBR0osUUFBQSxLQUNJLEdBQUEsS0FJQSxPQUhBLEdBQUEsVUFDSSxFQUFBLFNBQUEsTUFBQSxHQUVKLEVBR0osUUFBQSxHQUFBLEVBQUEsR0FDSSxFQUFBLFdBQUEsRUFDQSxFQUFBLFVBQ0ksRUFBQSxTQUFBLE1BQUEsR0FDQSxFQUFBLFNBQUEsWUFBQSxFQUFBLEtBR0EsRUFBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLE1BQUEsVUFJUixRQUFBLEtBQ0ksRUFBQSxXQUNJLEVBQUEsU0FBQSxTQUNJLEVBQUEsUUFHQSxFQUFBLFNBQUEsY0F6Q1osR0FBQSxHQUFBLElBRUEsR0FBQSxTQUFBLE9BQ0EsRUFBQSxXQUFBLEVBRUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQ0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxXQUFBLEVBdUNKLFFBQUEsR0FBQSxFQUFBLEdBY0ksUUFBQSxHQUFBLEVBQUEsR0FDSSxFQUFBLEtBQ0ksR0FDSSxFQUFBLEtBQUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxZQUFBLEVBQUEsSUFFSixFQUFBLEtBQUEsT0FDSSxFQUFBLE1BQUEsU0FDQSxFQUFBLEtBQUEsU0FJSixFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsTUFBQSxVQUlSLFFBQUEsR0FBQSxHQUNJLEVBQUEsS0FBQSxHQUNBLEVBQUEsTUFDSSxFQUFBLEtBQUEsTUFBQSxHQUlSLFFBQUEsS0FDSSxPQUFBLEVBQUEsS0FHSixRQUFBLEtBQ0ksRUFBQSxPQUNJLEVBQUEsS0FBQSxVQUNJLEVBQUEsTUFBQSxTQUNBLEVBQUEsS0FBQSxRQUdBLEVBQUEsS0FBQSxjQS9DWixHQUFBLEdBQUEsSUFFQSxHQUFBLFNBQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxFQUNBLEVBQUEsS0FBQSxPQUNBLEVBQUEsTUFBQSxHQUVBLEVBQUEsWUFBQSxFQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsV0FBQSxFQWpFSixFQUNJLE9BQUEsVUFDQSxNQUFBLG9CQUFBLEdBQUEsS0F5R1IsU0M5R0EsU0FBQSxHQUNJLFlBWUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxHQVVJLFFBQUEsS0FDSSxNQUFBLEdBQUEsSUFBQSxpQkFBQSxRQUFBLFNBQUEsR0FDSSxFQUFBLFNBQUEsRUFBQSxTQUFBLEtBQ0osTUFBQSxTQUFBLEdBQ0ksRUFBQSxNQUFBLElBSVIsUUFBQSxLQUNJLE1BQUEsR0FBQSxLQUFBLGdCQUFBLEVBQUEsVUFBQSxRQUFBLFdBQ0ksRUFBQSxZQUFBLEdBQ0EsRUFBQSxLQUFBLE9BQ0osTUFBQSxTQUFBLEdBQ0ksRUFBQSxNQUFBLElBSVIsUUFBQSxHQUFBLEdBQ0ksR0FBQSxHQUFBLEVBQUEsU0FBQSxRQUFBLEVBQ0EsS0FBQSxHQUNJLEVBQUEsU0FBQSxPQUFBLEVBQUEsR0E1QlIsR0FBQSxHQUFBLElBRUEsR0FBQSxZQUVBLEVBQUEsWUFBQSxFQUNBLEVBQUEsZUFBQSxFQUNBLEVBQUEsZUFBQSxFQWxCSixFQUNJLE9BQUEsVUFDQSxRQUFBLGtCQUF5QixHQUU3QixFQUFBLFNBQ0ksUUFDQSxZQUNBLGtCQXFDUixTQy9DQSxTQUFBLEdBQ0ksWUFRQSxTQUFBLEdBQUEsR0FRSSxRQUFBLEtBQ0ksRUFB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RUFBQSxTQUNJLFlBQ0EsZUFDQSxrQkFDQSxnQkFDQSxvQkFDQSxvQkFvQlIsU0NqQ0EsU0FBQSxHQUNJLFlBZUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQU9JLFFBQUEsS0FDSSxFQUFBLGdCQUNBLEVBQUEsa0JBQUEsRUFBQSxXQUFBLFFBQUEsV0FDSSxFQUFBLE1BQUEsRUFBQSxnQkFBQSxLQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FUUixHQUFBLEdBQUEsSUFDQSxHQUFBLGdCQUFBLEVBRUEsSUFsQkosRUFDSSxPQUFBLFlBQ0EsV0FBQSxpQkFBMkIsR0FFL0IsRUFBQSxTQUNJLFlBQ0EsZUFDQSxrQkFDQSxnQkFDQSxvQkFDQSxvQkFrQlIsU0MvQkEsU0FBQSxHQUNJLFlBZUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQU9JLFFBQUEsS0FDSSxFQUFBLGdCQUNBLEVBQUEsa0JBQUEsRUFBQSxXQUFBLFFBQUEsV0FDSSxFQUFBLE1BQUEsUUFBQSxFQUFBLGdCQUFBLEtBQ0EsRUFBQSxhQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsU0FWUixHQUFBLEdBQUEsSUFDQSxHQUFBLGdCQUFBLEVBRUEsSUFsQkosRUFDSSxPQUFBLFlBQ0EsV0FBQSxjQUF3QixHQUU1QixFQUFBLFNBQ0ksWUFDQSxlQUNBLGtCQUNBLGdCQUNBLG9CQUNBLG9CQW1CUiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnU2ltb24nLCBbXHJcbiAgICAgICAgJ25nUm91dGUnLFxyXG4gICAgICAgICdDb21tb24nLFxyXG4gICAgICAgICdQcm9qZWN0cycsXHJcbiAgICAgICAgJ0FwcGxpY2F0aW9ucydcclxuICAgIF0pO1xyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnU2ltb24nKVxyXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgICBjb25maWcuJGluamVjdCA9IFsnJHJvdXRlUHJvdmlkZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkcm91dGVQcm92aWRlci5vdGhlcndpc2Uoe1xyXG4gICAgICAgICAgICByZWRpcmVjdFRvOiAnLydcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbicsIFsnbmdSb3V0ZSddKTtcclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbicpXHJcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICAgIGNvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9BYm91dCcsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdBcHAvMDBfQ29tbW9uLzAzX1RlbXBsYXRlcy9BYm91dC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Fib3V0JyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgfSkud2hlbignL1NldHRpbmdzJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0FwcC8wMF9Db21tb24vMDNfVGVtcGxhdGVzL1NldHRpbmdzLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnU2V0dGluZ3MnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJywgW1xyXG4gICAgICAgICAgICAnbmdSb3V0ZScsXHJcbiAgICAgICAgICAgICdDb21tb24nXHJcbiAgICAgICAgXSk7XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdQcm9qZWN0cycpXHJcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xyXG5cclxuICAgIGNvbmZpZy4kaW5qZWN0ID0gWyckcm91dGVQcm92aWRlciddO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlcikge1xyXG4gICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy8nLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQXBwLzAxX1Byb2plY3RzLzAzX1RlbXBsYXRlcy9Qcm9qZWN0cy5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1Byb2plY3RzJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgfSkud2hlbignL25ldy1wcm9qZWN0Jywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0FwcC8wMV9Qcm9qZWN0cy8wM19UZW1wbGF0ZXMvTmV3UHJvamVjdC5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ05ld1Byb2plY3QnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcclxuICAgICAgICB9KS53aGVuKCcvOlByb2plY3RJZCcsIHtcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdBcHAvMDFfUHJvamVjdHMvMDNfVGVtcGxhdGVzL1Byb2plY3REZXRhaWxzLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvamVjdERldGFpbHMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcclxuICAgICAgICB9KS53aGVuKCcvOlByb2plY3RJZC9lZGl0Jywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0FwcC8wMV9Qcm9qZWN0cy8wM19UZW1wbGF0ZXMvRWRpdFByb2plY3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdFZGl0UHJvamVjdCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQXBwbGljYXRpb25zJywgW1xyXG4gICAgICAgICAgICAnbmdSb3V0ZScsXHJcbiAgICAgICAgICAgICdDb21tb24nLFxyXG4gICAgICAgICAgICAnUHJvamVjdHMnXHJcbiAgICAgICAgXSk7XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdBcHBsaWNhdGlvbnMnKVxyXG4gICAgICAgIC5jb25maWcoY29uZmlnKTtcclxuXHJcbiAgICBjb25maWcuJGluamVjdCA9IFsnJHJvdXRlUHJvdmlkZXInXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkcm91dGVQcm92aWRlci53aGVuKCcvOlByb2plY3RJZC9uZXctYXBwbGljYXRpb24nLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQXBwLzAyX0FwcGxpY2F0aW9ucy8wM19UZW1wbGF0ZXMvTmV3QXBwbGljYXRpb24uaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdOZXdBcHBsaWNhdGlvbicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG4gICAgICAgIH0pLndoZW4oJy86UHJvamVjdElkLzpBcHBsaWNhdGlvbklkJywge1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0FwcC8wMl9BcHBsaWNhdGlvbnMvMDNfVGVtcGxhdGVzL0FwcGxpY2F0aW9uRGV0YWlscy5odG1sJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0FwcGxpY2F0aW9uRGV0YWlscycsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xyXG4gICAgICAgIH0pLndoZW4oJy86UHJvamVjdElkLzpBcHBsaWNhdGlvbklkL2VkaXQnLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQXBwLzAyX0FwcGxpY2F0aW9ucy8wM19UZW1wbGF0ZXMvRWRpdEFwcGxpY2F0aW9uLmh0bWwnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRWRpdEFwcGxpY2F0aW9uJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2EnLCBhbmNob3IpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFuY2hvcigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAgICAgICAgaWYgKGF0dHJzLm5nQ2xpY2sgfHwgYXR0cnMuaHJlZiA9PT0gJycgfHwgYXR0cnMuaHJlZiA9PT0gJyMnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC52YWx1ZSgnUGFnZUhlYWRTZXJ2aWNlJywgbmV3IFBhZ2VIZWFkU2VydmljZSgpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBQYWdlSGVhZFNlcnZpY2UoKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5UaXRsZSA9ICcnO1xyXG4gICAgfVxyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uJylcclxuICAgICAgICAudmFsdWUoJ05hdmJhclNlcnZpY2UnLCBuZXcgTmF2YmFyU2VydmljZSgpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBOYXZiYXJTZXJ2aWNlKCkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuQWJvdXRNZW51ID0gbmV3IE5hdmJhck1lbnUoJy9BYm91dCcsICdBYm91dCcpO1xyXG4gICAgICAgIHNlbGYuU2V0dGluZ3NNZW51ID0gbmV3IE5hdmJhck1lbnUoJy9TZXR0aW5ncycsICdTZXR0aW5ncycpO1xyXG4gICAgICAgIHNlbGYuVG9vbHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgc2VsZi5Vc2VyID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBzZWxmLkRlYWN0aXZhdGVBbGwgPSBkZWFjdGl2YXRlQWxsO1xyXG4gICAgICAgIHNlbGYuTG9hZFRvb2xzID0gbG9hZFRvb2xzO1xyXG4gICAgICAgIHNlbGYuTG9hZFVzZXIgPSBsb2FkVXNlcjtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVhY3RpdmF0ZUFsbCgpIHtcclxuICAgICAgICAgICAgc2VsZi5BYm91dE1lbnUuQ2xhc3MgPSAnJztcclxuICAgICAgICAgICAgc2VsZi5TZXR0aW5nc01lbnUuQ2xhc3MgPSAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRUb29scygkaHR0cCkge1xyXG4gICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvUGx1Z2luUGF0aHMnKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuVG9vbHMgPSBhbmd1bGFyLmZyb21Kc29uKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZFVzZXIoJGh0dHApIHtcclxuICAgICAgICAgICAgJGh0dHAuZ2V0KCcvYXBpL1VzZXInKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuVXNlciA9IGFuZ3VsYXIuZnJvbUpzb24ocmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIE5hdmJhck1lbnUocGF0aCwgdGV4dCkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuSXNBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLkNsYXNzID0gJyc7XHJcbiAgICAgICAgc2VsZi5QYXRoID0gcGF0aDtcclxuICAgICAgICBzZWxmLlRleHQgPSB0ZXh0O1xyXG5cclxuICAgICAgICBzZWxmLlNldEFzQWN0aXZlID0gc2V0QXNBY3RpdmU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldEFzQWN0aXZlKCkge1xyXG4gICAgICAgICAgICBzZWxmLklzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi5DbGFzcyA9ICdhY3RpdmUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbicpXHJcbiAgICAgICAgLnZhbHVlKCdCcmVhZGNydW1iU2VydmljZScsIG5ldyBCcmVhZGNydW1iU2VydmljZSgpKTtcclxuXHJcbiAgICBmdW5jdGlvbiBCcmVhZGNydW1iU2VydmljZSgpIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLlJvb3RJdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHNlbGYuSXNWaXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHNlbGYuUmVzZXQgPSByZXNldDtcclxuICAgICAgICBzZWxmLkdldEl0ZW1zID0gZ2V0SXRlbXM7XHJcbiAgICAgICAgc2VsZi5BZGROZXcgPSBhZGROZXc7XHJcbiAgICAgICAgc2VsZi5SZW1vdmVMYXN0ID0gcmVtb3ZlTGFzdDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHNlbGYuSXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRJdGVtcygpIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW1zID0gW107XHJcbiAgICAgICAgICAgIGlmIChzZWxmLlJvb3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLlJvb3RJdGVtLkFkZFRvKGl0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGROZXcoJGxvY2F0aW9uLCB0ZXh0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuSXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuUm9vdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0uQ2xhc3MgPSAnJztcclxuICAgICAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0uU2V0TmV4dFdpdGgoJGxvY2F0aW9uLCB0ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0gPSBuZXcgQnJlYWRjcnVtYkl0ZW0oJGxvY2F0aW9uLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgIHNlbGYuUm9vdEl0ZW0uQ2xhc3MgPSAnYWN0aXZlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTGFzdCgpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuUm9vdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLlJvb3RJdGVtLklzTGFzdCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5SZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5Sb290SXRlbS5SZW1vdmVMYXN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gQnJlYWRjcnVtYkl0ZW0oJGxvY2F0aW9uLCB0ZXh0KSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5Mb2NhdGlvbiA9ICRsb2NhdGlvbi5wYXRoKCk7XHJcbiAgICAgICAgc2VsZi5UZXh0ID0gdGV4dDtcclxuICAgICAgICBzZWxmLk5leHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgc2VsZi5DbGFzcyA9ICcnO1xyXG5cclxuICAgICAgICBzZWxmLlNldE5leHRXaXRoID0gc2V0TmV4dFdpdGg7XHJcbiAgICAgICAgc2VsZi5BZGRUbyA9IGFkZFRvO1xyXG4gICAgICAgIHNlbGYuSXNMYXN0ID0gaXNMYXN0O1xyXG4gICAgICAgIHNlbGYuUmVtb3ZlTGFzdCA9IHJlbW92ZUxhc3Q7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldE5leHRXaXRoKCRsb2NhdGlvbiwgdGV4dCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5OZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5OZXh0LkNsYXNzID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5OZXh0LlNldE5leHRXaXRoKCRsb2NhdGlvbiwgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghc2VsZi5OZXh0Lk5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLkNsYXNzID0gJ2FjdGl2ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5OZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5OZXh0ID0gbmV3IEJyZWFkY3J1bWJJdGVtKCRsb2NhdGlvbiwgdGV4dCk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLk5leHQuQ2xhc3MgPSAnYWN0aXZlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkVG8oaXRlbXMpIHtcclxuICAgICAgICAgICAgaXRlbXMucHVzaChzZWxmKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuTmV4dCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5OZXh0LkFkZFRvKGl0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNMYXN0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIShzZWxmLk5leHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTGFzdCgpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuTmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuTmV4dC5Jc0xhc3QoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuQ2xhc3MgPSAnYWN0aXZlJztcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLk5leHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLk5leHQuUmVtb3ZlTGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uJylcclxuICAgICAgICAuc2VydmljZSgnU2V0dGluZ3NTZXJ2aWNlJywgc2V0dGluZ3NTZXJ2aWNlKTtcclxuXHJcbiAgICBzZXR0aW5nc1NlcnZpY2UuJGluamVjdCA9IFtcclxuICAgICAgICAnJGh0dHAnLFxyXG4gICAgICAgICckbG9jYXRpb24nLFxyXG4gICAgICAgICdOYXZiYXJTZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXR0aW5nc1NlcnZpY2UoJGh0dHAsICRsb2NhdGlvbiwgbmF2YmFyU2VydmljZSkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuU2V0dGluZ3MgPSBbXTtcclxuXHJcbiAgICAgICAgc2VsZi5HZXRTZXR0aW5ncyA9IGdldFNldHRpbmdzO1xyXG4gICAgICAgIHNlbGYuVXBkYXRlU2V0dGluZ3MgPSB1cGRhdGVTZXR0aW5ncztcclxuICAgICAgICBzZWxmLkRlbGV0ZVNldHRpbmdzID0gZGVsZXRlU2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL1NldHRpbmdzJykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLlNldHRpbmdzID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmdzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9TZXR0aW5ncycsIHNlbGYuU2V0dGluZ3MpLnN1Y2Nlc3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbmF2YmFyU2VydmljZS5VcGRhdGVUb29scygkaHR0cCk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZVNldHRpbmdzKGVhY2hTZXR0aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gc2VsZi5TZXR0aW5ncy5pbmRleE9mKGVhY2hTZXR0aW5nKTtcclxuICAgICAgICAgICAgaWYgKGkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuU2V0dGluZ3Muc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uJylcclxuICAgICAgICAuc2VydmljZSgnU2ltb25WZXJzaW9uU2VydmljZScsIHNpbW9uVmVyc2lvblNlcnZpY2UpO1xyXG5cclxuICAgIHNpbW9uVmVyc2lvblNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBzaW1vblZlcnNpb25TZXJ2aWNlKCRodHRwKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5WZXJzaW9uID0gJyc7XHJcblxyXG4gICAgICAgIHNlbGYuR2V0VmVyc2lvbiA9IGdldFZlcnNpb247XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7XHJcbiAgICAgICAgICAgICRodHRwLmdldCgnL2FwaS9TaW1vblZlcnNpb24vJykuc3VjY2VzcyhmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLlZlcnNpb24gPSByZXN1bHQuRGlzcGxheVRleHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbicpXHJcbiAgICAgICAgLnNlcnZpY2UoJ1BsdWdpbnNTZXJ2aWNlJywgcGx1Z2luc1NlcnZpY2UpO1xyXG5cclxuICAgIHBsdWdpbnNTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XHJcblxyXG4gICAgZnVuY3Rpb24gcGx1Z2luc1NlcnZpY2UoJGh0dHApIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLlBsdWdpbnMgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHNlbGYuR2V0UGx1Z2lucyA9IGdldFBsdWdpbnM7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFBsdWdpbnMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvUGx1Z2lucycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5QbHVnaW5zID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdQYWdlSGVhZCcsIHBhZ2VIZWFkKTtcclxuXHJcbiAgICBwYWdlSGVhZC4kaW5qZWN0ID0gWydQYWdlSGVhZFNlcnZpY2UnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwYWdlSGVhZChwYWdlSGVhZFNlcnZpY2UpIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5QYWdlSGVhZFNlcnZpY2UgPSBwYWdlSGVhZFNlcnZpY2U7XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdOYXZiYXInLCBuYXZiYXIpO1xyXG5cclxuICAgIG5hdmJhci4kaW5qZWN0ID0gW1xyXG4gICAgICAgICckaHR0cCcsXHJcbiAgICAgICAgJ05hdmJhclNlcnZpY2UnLFxyXG4gICAgICAgICdTaW1vblZlcnNpb25TZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBuYXZiYXIoJGh0dHAsIG5hdmJhclNlcnZpY2UsIHNpbW9uVmVyc2lvblNlcnZpY2UpIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5OYXZiYXJTZXJ2aWNlID0gbmF2YmFyU2VydmljZTtcclxuICAgICAgICB2bS5TaW1vblZlcnNpb25TZXJ2aWNlID0gc2ltb25WZXJzaW9uU2VydmljZTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAgIG5hdmJhclNlcnZpY2UuTG9hZFRvb2xzKCRodHRwKTtcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZS5Mb2FkVXNlcigkaHR0cCk7XHJcbiAgICAgICAgICAgIHNpbW9uVmVyc2lvblNlcnZpY2UuR2V0VmVyc2lvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ0NvbW1vbicpXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0JyZWFkY3J1bWInLCBicmVhZGNydW1iKTtcclxuXHJcbiAgICBicmVhZGNydW1iLiRpbmplY3QgPSBbJ0JyZWFkY3J1bWJTZXJ2aWNlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gYnJlYWRjcnVtYihicmVhZGNydW1iU2VydmljZSkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLkJyZWFkY3J1bWJTZXJ2aWNlID0gYnJlYWRjcnVtYlNlcnZpY2U7XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdTZXR0aW5ncycsIHNldHRpbmdzKTtcclxuXHJcbiAgICBzZXR0aW5ncy4kaW5qZWN0ID0gW1xyXG4gICAgICAgICckbG9jYXRpb24nLFxyXG4gICAgICAgICdQYWdlSGVhZFNlcnZpY2UnLFxyXG4gICAgICAgICdCcmVhZGNydW1iU2VydmljZScsXHJcbiAgICAgICAgJ05hdmJhclNlcnZpY2UnLFxyXG4gICAgICAgICdTZXR0aW5nc1NlcnZpY2UnLFxyXG4gICAgICAgICdQbHVnaW5zU2VydmljZSdcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dGluZ3MoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2UsIGJyZWFkY3J1bWJTZXJ2aWNlLCBuYXZiYXJTZXJ2aWNlLCBzZXR0aW5nc1NlcnZpY2UsIHBsdWdpbnNTZXJ2aWNlKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uRXJyb3IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdm0uUGFnZUhlYWRTZXJ2aWNlID0gcGFnZUhlYWRTZXJ2aWNlO1xyXG4gICAgICAgIHZtLkJyZWFkY3J1bWJTZXJ2aWNlID0gYnJlYWRjcnVtYlNlcnZpY2U7XHJcbiAgICAgICAgdm0uTmF2YmFyU2VydmljZSA9IG5hdmJhclNlcnZpY2U7XHJcbiAgICAgICAgdm0uU2V0dGluZ3NTZXJ2aWNlID0gc2V0dGluZ3NTZXJ2aWNlO1xyXG4gICAgICAgIHZtLlBsdWdpbnNTZXJ2aWNlID0gcGx1Z2luc1NlcnZpY2U7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcGFnZUhlYWRTZXJ2aWNlLlRpdGxlID0gXCJHbG9iYWwgc2V0dGluZ3NcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlLklzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbmF2YmFyU2VydmljZS5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgICAgICAgICBuYXZiYXJTZXJ2aWNlLlNldHRpbmdzTWVudS5TZXRBc0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NTZXJ2aWNlLkdldFNldHRpbmdzKCkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zU2VydmljZS5HZXRQbHVnaW5zKCkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdDb21tb24nKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdBYm91dCcsIGFib3V0KTtcclxuXHJcbiAgICBhYm91dC4kaW5qZWN0ID0gW1xyXG4gICAgICAgICckbG9jYXRpb24nLFxyXG4gICAgICAgICdQYWdlSGVhZFNlcnZpY2UnLFxyXG4gICAgICAgICdCcmVhZGNydW1iU2VydmljZScsXHJcbiAgICAgICAgJ05hdmJhclNlcnZpY2UnXHJcbiAgICBdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFib3V0KCRsb2NhdGlvbiwgcGFnZUhlYWRTZXJ2aWNlLCBicmVhZGNydW1iU2VydmljZSwgbmF2YmFyU2VydmljZSkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLlBhZ2VIZWFkU2VydmljZSA9IHBhZ2VIZWFkU2VydmljZTtcclxuICAgICAgICB2bS5CcmVhZGNydW1iU2VydmljZSA9IGJyZWFkY3J1bWJTZXJ2aWNlO1xyXG4gICAgICAgIHZtLk5hdmJhclNlcnZpY2UgPSBuYXZiYXJTZXJ2aWNlO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgICAgcGFnZUhlYWRTZXJ2aWNlLlRpdGxlID0gXCJBYm91dFwiO1xyXG4gICAgICAgICAgICBicmVhZGNydW1iU2VydmljZS5Jc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZS5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgICAgIG5hdmJhclNlcnZpY2UuQWJvdXRNZW51LlNldEFzQWN0aXZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KGFuZ3VsYXIpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnQ29tbW9uJylcclxuICAgICAgICAuY29udHJvbGxlcignRm9vdGVyJywgZm9vdGVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBmb290ZXIoKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJylcclxuICAgICAgICAuc2VydmljZSgnUHJvamVjdHNTZXJ2aWNlJywgcHJvamVjdHNTZXJ2aWNlKTtcclxuXHJcbiAgICBwcm9qZWN0c1NlcnZpY2UuJGluamVjdCA9IFtcclxuICAgICAgICAnJGh0dHAnLFxyXG4gICAgICAgICckbG9jYXRpb24nLFxyXG4gICAgICAgICdCcmVhZGNydW1iU2VydmljZSdcclxuICAgIF07XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvamVjdHNTZXJ2aWNlKCRodHRwLCAkbG9jYXRpb24sIGJyZWFkY3J1bWJTZXJ2aWNlKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5Qcm9qZWN0cyA9IFtdO1xyXG4gICAgICAgIHNlbGYuRXJyb3IgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgc2VsZi5TZWxlY3RlZFByb2plY3QgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHNlbGYuR2V0UHJvamVjdHMgPSBnZXRQcm9qZWN0cztcclxuICAgICAgICBzZWxmLkdldFByb2plY3REZXRhaWxzID0gZ2V0UHJvamVjdERldGFpbHM7XHJcbiAgICAgICAgc2VsZi5BZGRQcm9qZWN0ID0gYWRkUHJvamVjdDtcclxuICAgICAgICBzZWxmLlVwZGF0ZVByb2plY3QgPSB1cGRhdGVQcm9qZWN0O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQcm9qZWN0cygpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0cycpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5Qcm9qZWN0cyA9IGFuZ3VsYXIuZnJvbUpzb24ocmVzdWx0KTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRQcm9qZWN0RGV0YWlscyhwcm9qZWN0SWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wcm9qZWN0cy8nICsgcHJvamVjdElkKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuU2VsZWN0ZWRQcm9qZWN0ID0gYW5ndWxhci5mcm9tSnNvbihyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLkVycm9yID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFByb2plY3QobmV3UHJvamVjdERldGFpbHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcHJvamVjdHMvJywgbmV3UHJvamVjdERldGFpbHMpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2UuUmVtb3ZlTGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nICsgcmVzdWx0LklkKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5FcnJvciA9IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9qZWN0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9wcm9qZWN0cy8nLCBzZWxmLlNlbGVjdGVkUHJvamVjdCkuc3VjY2VzcyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhZGNydW1iU2VydmljZS5SZW1vdmVMYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycgKyBzZWxmLlNlbGVjdGVkUHJvamVjdC5JZCk7XHJcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuRXJyb3IgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJylcclxuICAgICAgICAuY29udHJvbGxlcignUHJvamVjdHMnLCBwcm9qZWN0cyk7XHJcblxyXG4gICAgcHJvamVjdHMuJGluamVjdCA9IFtcclxuICAgICAgICAnJGxvY2F0aW9uJyxcclxuICAgICAgICAnUGFnZUhlYWRTZXJ2aWNlJyxcclxuICAgICAgICAnTmF2YmFyU2VydmljZScsXHJcbiAgICAgICAgJ0JyZWFkY3J1bWJTZXJ2aWNlJyxcclxuICAgICAgICAnUHJvamVjdHNTZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9qZWN0cygkbG9jYXRpb24sIHBhZ2VIZWFkU2VydmljZSwgbmF2YmFyU2VydmljZSwgYnJlYWRjcnVtYlNlcnZpY2UsIHByb2plY3RzU2VydmljZSkge1xyXG4gICAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLlByb2plY3RzU2VydmljZSA9IHByb2plY3RzU2VydmljZTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAgIHBhZ2VIZWFkU2VydmljZS5UaXRsZSA9ICdIb21lJztcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZS5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgICAgIHByb2plY3RzU2VydmljZS5HZXRQcm9qZWN0cygpLnN1Y2Nlc3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWRjcnVtYlNlcnZpY2UuUmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlLkFkZE5ldygkbG9jYXRpb24sIHBhZ2VIZWFkU2VydmljZS5UaXRsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJylcclxuICAgICAgICAuY29udHJvbGxlcignTmV3UHJvamVjdCcsIG5ld1Byb2plY3QpO1xyXG5cclxuICAgIG5ld1Byb2plY3QuJGluamVjdCA9IFtcclxuICAgICAgICAnJGxvY2F0aW9uJyxcclxuICAgICAgICAnJHJvdXRlUGFyYW1zJyxcclxuICAgICAgICAnUGFnZUhlYWRTZXJ2aWNlJyxcclxuICAgICAgICAnTmF2YmFyU2VydmljZScsXHJcbiAgICAgICAgJ0JyZWFkY3J1bWJTZXJ2aWNlJyxcclxuICAgICAgICAnUHJvamVjdHNTZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZXdQcm9qZWN0KCRsb2NhdGlvbiwgJHJvdXRlUGFyYW1zLCBwYWdlSGVhZFNlcnZpY2UsIG5hdmJhclNlcnZpY2UsIGJyZWFkY3J1bWJTZXJ2aWNlLCBwcm9qZWN0c1NlcnZpY2UpIHtcclxuICAgICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5Qcm9qZWN0c1NlcnZpY2UgPSBwcm9qZWN0c1NlcnZpY2U7XHJcbiAgICAgICAgdm0uTmV3UHJvamVjdERldGFpbHMgPSB7XHJcbiAgICAgICAgICAgIE5hbWU6ICcnLFxyXG4gICAgICAgICAgICBEZXNjcmlwdGlvbjogJydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgICAgcGFnZUhlYWRTZXJ2aWNlLlRpdGxlID0gJ0FkZCBOZXcgUHJvamVjdCc7XHJcbiAgICAgICAgICAgIG5hdmJhclNlcnZpY2UuRGVhY3RpdmF0ZUFsbCgpO1xyXG4gICAgICAgICAgICBicmVhZGNydW1iU2VydmljZS5BZGROZXcoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2UuVGl0bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJylcclxuICAgICAgICAuY29udHJvbGxlcignUHJvamVjdERldGFpbHMnLCBwcm9qZWN0RGV0YWlscyk7XHJcblxyXG4gICAgcHJvamVjdERldGFpbHMuJGluamVjdCA9IFtcclxuICAgICAgICAnJGxvY2F0aW9uJyxcclxuICAgICAgICAnJHJvdXRlUGFyYW1zJyxcclxuICAgICAgICAnUGFnZUhlYWRTZXJ2aWNlJyxcclxuICAgICAgICAnTmF2YmFyU2VydmljZScsXHJcbiAgICAgICAgJ0JyZWFkY3J1bWJTZXJ2aWNlJyxcclxuICAgICAgICAnUHJvamVjdHNTZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9qZWN0RGV0YWlscygkbG9jYXRpb24sICRyb3V0ZVBhcmFtcywgcGFnZUhlYWRTZXJ2aWNlLCBuYXZiYXJTZXJ2aWNlLCBicmVhZGNydW1iU2VydmljZSwgcHJvamVjdHNTZXJ2aWNlKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uUHJvamVjdHNTZXJ2aWNlID0gcHJvamVjdHNTZXJ2aWNlO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZS5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgICAgIHByb2plY3RzU2VydmljZS5HZXRQcm9qZWN0RGV0YWlscygkcm91dGVQYXJhbXMuUHJvamVjdElkKS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VIZWFkU2VydmljZS5UaXRsZSA9IHByb2plY3RzU2VydmljZS5TZWxlY3RlZFByb2plY3QuTmFtZTtcclxuICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJTZXJ2aWNlLkFkZE5ldygkbG9jYXRpb24sIHBhZ2VIZWFkU2VydmljZS5UaXRsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufShhbmd1bGFyKSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ1Byb2plY3RzJylcclxuICAgICAgICAuY29udHJvbGxlcignRWRpdFByb2plY3QnLCBlZGl0UHJvamVjdCk7XHJcblxyXG4gICAgZWRpdFByb2plY3QuJGluamVjdCA9IFtcclxuICAgICAgICAnJGxvY2F0aW9uJyxcclxuICAgICAgICAnJHJvdXRlUGFyYW1zJyxcclxuICAgICAgICAnUGFnZUhlYWRTZXJ2aWNlJyxcclxuICAgICAgICAnTmF2YmFyU2VydmljZScsXHJcbiAgICAgICAgJ0JyZWFkY3J1bWJTZXJ2aWNlJyxcclxuICAgICAgICAnUHJvamVjdHNTZXJ2aWNlJ1xyXG4gICAgXTtcclxuXHJcbiAgICBmdW5jdGlvbiBlZGl0UHJvamVjdCgkbG9jYXRpb24sICRyb3V0ZVBhcmFtcywgcGFnZUhlYWRTZXJ2aWNlLCBuYXZiYXJTZXJ2aWNlLCBicmVhZGNydW1iU2VydmljZSwgcHJvamVjdHNTZXJ2aWNlKSB7XHJcbiAgICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uUHJvamVjdHNTZXJ2aWNlID0gcHJvamVjdHNTZXJ2aWNlO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuICAgICAgICAgICAgbmF2YmFyU2VydmljZS5EZWFjdGl2YXRlQWxsKCk7XHJcbiAgICAgICAgICAgIHByb2plY3RzU2VydmljZS5HZXRQcm9qZWN0RGV0YWlscygkcm91dGVQYXJhbXMuUHJvamVjdElkKS5zdWNjZXNzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2VIZWFkU2VydmljZS5UaXRsZSA9ICdFZGl0ICcgKyBwcm9qZWN0c1NlcnZpY2UuU2VsZWN0ZWRQcm9qZWN0Lk5hbWU7XHJcbiAgICAgICAgICAgICAgICBicmVhZGNydW1iU2VydmljZS5SZW1vdmVMYXN0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhZGNydW1iU2VydmljZS5BZGROZXcoJGxvY2F0aW9uLCBwYWdlSGVhZFNlcnZpY2UuVGl0bGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0oYW5ndWxhcikpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==